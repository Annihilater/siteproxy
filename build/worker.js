var fr={Stringify:1,BeforeStream:2,Stream:3},Dn=(e,t)=>{let r=new String(e);return r.isEscaped=!0,r.callbacks=t,r};var Je=async(e,t,r,n,s)=>{let o=e.callbacks;if(!o?.length)return Promise.resolve(e);s?s[0]+=e:s=[e];let i=Promise.all(o.map(a=>a({phase:t,buffer:s,context:n}))).then(a=>Promise.all(a.filter(Boolean).map(u=>Je(u,t,!1,n,s))).then(()=>s[0]));return r?Dn(await i,o):i};var ur=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},y=(e,t,r)=>(ur(e,t,"read from private field"),r?r.call(e):t.get(e)),re=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},$=(e,t,r,n)=>(ur(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),In="text/plain; charset=UTF-8",Qe=(e,t={})=>(Object.entries(t).forEach(([r,n])=>e.set(r,n)),e),ne,X,C,N,F,J,se=class{constructor(e,t){this.env={},this._var={},this.finalized=!1,this.error=void 0,re(this,ne,200),re(this,X,void 0),re(this,C,void 0),re(this,N,void 0),re(this,F,void 0),re(this,J,!0),this.layout=void 0,this.renderer=r=>this.html(r),this.notFoundHandler=()=>new Response,this.render=(...r)=>this.renderer(...r),this.setLayout=r=>this.layout=r,this.getLayout=()=>this.layout,this.setRenderer=r=>{this.renderer=r},this.header=(r,n,s)=>{if(n===void 0){y(this,C)?y(this,C).delete(r):y(this,N)&&delete y(this,N)[r.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(r);return}s?.append?(y(this,C)||($(this,J,!1),$(this,C,new Headers(y(this,N))),$(this,N,{})),y(this,C).append(r,n)):y(this,C)?y(this,C).set(r,n):(y(this,N)??$(this,N,{}),y(this,N)[r.toLowerCase()]=n),this.finalized&&(s?.append?this.res.headers.append(r,n):this.res.headers.set(r,n))},this.status=r=>{$(this,J,!1),$(this,ne,r)},this.set=(r,n)=>{this._var??(this._var={}),this._var[r]=n},this.get=r=>this._var?this._var[r]:void 0,this.newResponse=(r,n,s)=>{if(y(this,J)&&!s&&!n&&y(this,ne)===200)return new Response(r,{headers:y(this,N)});if(n&&typeof n!="number"){let i=Qe(new Headers(n.headers),y(this,N));return new Response(r,{headers:i,status:n.status??y(this,ne)})}let o=typeof n=="number"?n:y(this,ne);y(this,N)??$(this,N,{}),y(this,C)??$(this,C,new Headers),Qe(y(this,C),y(this,N)),y(this,F)&&(y(this,F).headers.forEach((i,a)=>{y(this,C)?.set(a,i)}),Qe(y(this,C),y(this,N))),s??(s={});for(let[i,a]of Object.entries(s))if(typeof a=="string")y(this,C).set(i,a);else{y(this,C).delete(i);for(let u of a)y(this,C).append(i,u)}return new Response(r,{status:o,headers:y(this,C)})},this.body=(r,n,s)=>typeof n=="number"?this.newResponse(r,n,s):this.newResponse(r,n),this.text=(r,n,s)=>{if(!y(this,N)){if(y(this,J)&&!s&&!n)return new Response(r);$(this,N,{})}return y(this,N)["content-type"]=In,typeof n=="number"?this.newResponse(r,n,s):this.newResponse(r,n)},this.json=(r,n,s)=>{let o=JSON.stringify(r);return y(this,N)??$(this,N,{}),y(this,N)["content-type"]="application/json; charset=UTF-8",typeof n=="number"?this.newResponse(o,n,s):this.newResponse(o,n)},this.html=(r,n,s)=>(y(this,N)??$(this,N,{}),y(this,N)["content-type"]="text/html; charset=UTF-8",typeof r=="object"&&(r instanceof Promise||(r=r.toString()),r instanceof Promise)?r.then(o=>Je(o,fr.Stringify,!1,{})).then(o=>typeof n=="number"?this.newResponse(o,n,s):this.newResponse(o,n)):typeof n=="number"?this.newResponse(r,n,s):this.newResponse(r,n)),this.redirect=(r,n=302)=>(y(this,C)??$(this,C,new Headers),y(this,C).set("Location",r),this.newResponse(null,n)),this.notFound=()=>this.notFoundHandler(this),this.req=e,t&&($(this,X,t.executionCtx),this.env=t.env,t.notFoundHandler&&(this.notFoundHandler=t.notFoundHandler))}get event(){if(y(this,X)&&"respondWith"in y(this,X))return y(this,X);throw Error("This context has no FetchEvent")}get executionCtx(){if(y(this,X))return y(this,X);throw Error("This context has no ExecutionContext")}get res(){return $(this,J,!1),y(this,F)||$(this,F,new Response("404 Not Found",{status:404}))}set res(e){if($(this,J,!1),y(this,F)&&e){y(this,F).headers.delete("content-type");for(let[t,r]of y(this,F).headers.entries())if(t==="set-cookie"){let n=y(this,F).headers.getSetCookie();e.headers.delete("set-cookie");for(let s of n)e.headers.append("set-cookie",s)}else e.headers.set(t,r)}$(this,F,e),this.finalized=!0}get var(){return{...this._var}}};ne=new WeakMap;X=new WeakMap;C=new WeakMap;N=new WeakMap;F=new WeakMap;J=new WeakMap;var Ze=(e,t,r)=>(n,s)=>{let o=-1;return i(0);async function i(a){if(a<=o)throw new Error("next() called multiple times");o=a;let u,h=!1,x;if(e[a]?(x=e[a][0][0],n instanceof se&&(n.req.routeIndex=a)):x=a===e.length&&s||void 0,!x)n instanceof se&&n.finalized===!1&&r&&(u=await r(n));else try{u=await x(n,()=>i(a+1))}catch(p){if(p instanceof Error&&n instanceof se&&t)n.error=p,u=await t(p,n),h=!0;else throw p}return u&&(n.finalized===!1||h)&&(n.res=u),n}};var lr=class extends Error{constructor(e=500,t){super(t?.message),this.res=t?.res,this.status=e}getResponse(){return this.res?this.res:new Response(this.message,{status:this.status})}};var hr=async(e,t={all:!1})=>{let n=(e instanceof Ee?e.raw.headers:e.headers).get("Content-Type");return qn(n)?Bn(e,t):{}};function qn(e){return e===null?!1:e.startsWith("multipart/form-data")||e.startsWith("application/x-www-form-urlencoded")}async function Bn(e,t){let r=await e.formData();return r?zn(r,t):{}}function zn(e,t){let r={};return e.forEach((n,s)=>{t.all||s.endsWith("[]")?Ln(r,s,n):r[s]=n}),r}var Ln=(e,t,r)=>{e[t]&&Fn(e[t])?Un(e[t],r):e[t]?Wn(e,t,r):e[t]=r};function Fn(e){return Array.isArray(e)}var Un=(e,t)=>{e.push(t)},Wn=(e,t,r)=>{e[t]=[e[t],r]};var tt=e=>{let t=e.split("/");return t[0]===""&&t.shift(),t},dr=e=>{let{groups:t,path:r}=Vn(e),n=tt(r);return Hn(n,t)},Vn=e=>{let t=[];return e=e.replace(/\{[^}]+\}/g,(r,n)=>{let s=`@${n}`;return t.push([s,r]),s}),{groups:t,path:e}},Hn=(e,t)=>{for(let r=t.length-1;r>=0;r--){let[n]=t[r];for(let s=e.length-1;s>=0;s--)if(e[s].includes(n)){e[s]=e[s].replace(n,t[r][1]);break}}return e},Se={},rt=e=>{if(e==="*")return"*";let t=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);return t?(Se[e]||(t[2]?Se[e]=[e,t[1],new RegExp("^"+t[2]+"$")]:Se[e]=[e,t[1],!0]),Se[e]):null},nt=e=>{let t=e.url.match(/^https?:\/\/[^/]+(\/[^?]*)/);return t?t[1]:""},xr=e=>{let t=e.indexOf("?",8);return t===-1?"":"?"+e.slice(t+1)},pr=e=>{let t=nt(e);return t.length>1&&t[t.length-1]==="/"?t.slice(0,-1):t},oe=(...e)=>{let t="",r=!1;for(let n of e)t[t.length-1]==="/"&&(t=t.slice(0,-1),r=!0),n[0]!=="/"&&(n=`/${n}`),n==="/"&&r?t=`${t}/`:n!=="/"&&(t=`${t}${n}`),n==="/"&&t===""&&(t="/");return t},Me=e=>{if(!e.match(/\:.+\?$/))return null;let t=e.split("/"),r=[],n="";return t.forEach(s=>{if(s!==""&&!/\:/.test(s))n+="/"+s;else if(/\:/.test(s))if(/\?/.test(s)){r.length===0&&n===""?r.push("/"):r.push(n);let o=s.replace("?","");n+="/"+o,r.push(n)}else n+="/"+s}),r.filter((s,o,i)=>i.indexOf(s)===o)},et=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),/%/.test(e)?Pe(e):e):e,_r=(e,t,r)=>{let n;if(!r&&t&&!/[%+]/.test(t)){let i=e.indexOf(`?${t}`,8);for(i===-1&&(i=e.indexOf(`&${t}`,8));i!==-1;){let a=e.charCodeAt(i+t.length+1);if(a===61){let u=i+t.length+2,h=e.indexOf("&",u);return et(e.slice(u,h===-1?void 0:h))}else if(a==38||isNaN(a))return"";i=e.indexOf(`&${t}`,i+1)}if(n=/[%+]/.test(e),!n)return}let s={};n??(n=/[%+]/.test(e));let o=e.indexOf("?",8);for(;o!==-1;){let i=e.indexOf("&",o+1),a=e.indexOf("=",o);a>i&&i!==-1&&(a=-1);let u=e.slice(o+1,a===-1?i===-1?void 0:i:a);if(n&&(u=et(u)),o=i,u==="")continue;let h;a===-1?h="":(h=e.slice(a+1,i===-1?void 0:i),n&&(h=et(h))),r?(s[u]&&Array.isArray(s[u])||(s[u]=[]),s[u].push(h)):s[u]??(s[u]=h)}return t?s[t]:s},br=_r,gr=(e,t)=>_r(e,t,!0),Pe=decodeURIComponent;var wr=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},G=(e,t,r)=>(wr(e,t,"read from private field"),r?r.call(e):t.get(e)),mr=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},yr=(e,t,r,n)=>(wr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),he,V,Ee=class{constructor(e,t="/",r=[[]]){mr(this,he,void 0),mr(this,V,void 0),this.routeIndex=0,this.bodyCache={},this.cachedBody=n=>{let{bodyCache:s,raw:o}=this,i=s[n];return i||(s.arrayBuffer?(async()=>await new Response(s.arrayBuffer)[n]())():s[n]=o[n]())},this.raw=e,this.path=t,yr(this,V,r),yr(this,he,{})}param(e){return e?this.getDecodedParam(e):this.getAllDecodedParams()}getDecodedParam(e){let t=G(this,V)[0][this.routeIndex][1][e],r=this.getParamValue(t);return r?/\%/.test(r)?Pe(r):r:void 0}getAllDecodedParams(){let e={},t=Object.keys(G(this,V)[0][this.routeIndex][1]);for(let r of t){let n=this.getParamValue(G(this,V)[0][this.routeIndex][1][r]);n&&typeof n=="string"&&(e[r]=/\%/.test(n)?Pe(n):n)}return e}getParamValue(e){return G(this,V)[1]?G(this,V)[1][e]:e}query(e){return br(this.url,e)}queries(e){return gr(this.url,e)}header(e){if(e)return this.raw.headers.get(e.toLowerCase())??void 0;let t={};return this.raw.headers.forEach((r,n)=>{t[n]=r}),t}async parseBody(e){if(this.bodyCache.parsedBody)return this.bodyCache.parsedBody;let t=await hr(this,e);return this.bodyCache.parsedBody=t,t}json(){return this.cachedBody("json")}text(){return this.cachedBody("text")}arrayBuffer(){return this.cachedBody("arrayBuffer")}blob(){return this.cachedBody("blob")}formData(){return this.cachedBody("formData")}addValidatedData(e,t){G(this,he)[e]=t}valid(e){return G(this,he)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return G(this,V)[0].map(([[,e]])=>e)}get routePath(){return G(this,V)[0].map(([[,e]])=>e)[this.routeIndex].path}};he=new WeakMap;V=new WeakMap;var T="ALL",vr="all",Oe=["get","post","put","delete","options","patch"],Ae="Can not add a route since the matcher is already built.",Ne=class extends Error{};var Sr=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Te=(e,t,r)=>(Sr(e,t,"read from private field"),r?r.call(e):t.get(e)),Kn=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Ce=(e,t,r,n)=>(Sr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Gn=Symbol("composedHandler");function Yn(){return class{}}var Xn=e=>e.text("404 Not Found",404),Er=(e,t)=>e instanceof lr?e.getResponse():(console.error(e),t.text("Internal Server Error",500)),H,Mr=class extends Yn(){constructor(e={}){super(),this._basePath="/",Kn(this,H,"/"),this.routes=[],this.notFoundHandler=Xn,this.errorHandler=Er,this.onError=n=>(this.errorHandler=n,this),this.notFound=n=>(this.notFoundHandler=n,this),this.fetch=(n,s,o)=>this.dispatch(n,o,s,n.method),this.request=(n,s,o,i)=>{if(n instanceof Request)return s!==void 0&&(n=new Request(n,s)),this.fetch(n,o,i);n=n.toString();let a=/^https?:\/\//.test(n)?n:`http://localhost${oe("/",n)}`,u=new Request(a,s);return this.fetch(u,o,i)},this.fire=()=>{addEventListener("fetch",n=>{n.respondWith(this.dispatch(n.request,n,void 0,n.request.method))})},[...Oe,vr].map(n=>{this[n]=(s,...o)=>(typeof s=="string"?Ce(this,H,s):this.addRoute(n,Te(this,H),s),o.map(i=>{typeof i!="string"&&this.addRoute(n,Te(this,H),i)}),this)}),this.on=(n,s,...o)=>{if(!n)return this;for(let i of[s].flat()){Ce(this,H,i);for(let a of[n].flat())o.map(u=>{this.addRoute(a.toUpperCase(),Te(this,H),u)})}return this},this.use=(n,...s)=>(typeof n=="string"?Ce(this,H,n):(Ce(this,H,"*"),s.unshift(n)),s.map(o=>{this.addRoute(T,Te(this,H),o)}),this);let r=e.strict??!0;delete e.strict,Object.assign(this,e),this.getPath=r?e.getPath??nt:pr}clone(){let e=new Mr({router:this.router,getPath:this.getPath});return e.routes=this.routes,e}route(e,t){let r=this.basePath(e);return t?(t.routes.map(n=>{let s;t.errorHandler===Er?s=n.handler:(s=async(o,i)=>(await Ze([],t.errorHandler)(o,()=>n.handler(o,i))).res,s[Gn]=n.handler),r.addRoute(n.method,n.path,s)}),this):r}basePath(e){let t=this.clone();return t._basePath=oe(this._basePath,e),t}mount(e,t,r){let n=oe(this._basePath,e),s=n==="/"?0:n.length,o=async(i,a)=>{let u;try{u=i.executionCtx}catch{}let h=r?r(i):[i.env,u],x=Array.isArray(h)?h:[h],p=xr(i.req.url),_=await t(new Request(new URL((i.req.path.slice(s)||"/")+p,i.req.url),i.req.raw),...x);if(_)return _;await a()};return this.addRoute(T,oe(e,"*"),o),this}addRoute(e,t,r){e=e.toUpperCase(),t=oe(this._basePath,t);let n={path:t,method:e,handler:r};this.router.add(e,t,[r,n]),this.routes.push(n)}matchRoute(e,t){return this.router.match(e,t)}handleError(e,t){if(e instanceof Error)return this.errorHandler(e,t);throw e}dispatch(e,t,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.dispatch(e,t,r,"GET")))();let s=this.getPath(e,{env:r}),o=this.matchRoute(n,s),i=new se(new Ee(e,s,o),{env:r,executionCtx:t,notFoundHandler:this.notFoundHandler});if(o[0].length===1){let u;try{u=o[0][0][0][0](i,async()=>{i.res=await this.notFoundHandler(i)})}catch(h){return this.handleError(h,i)}return u instanceof Promise?u.then(h=>h||(i.finalized?i.res:this.notFoundHandler(i))).catch(h=>this.handleError(h,i)):u}let a=Ze(o[0],this.errorHandler,this.notFoundHandler);return(async()=>{try{let u=await a(i);if(!u.finalized)throw new Error("Context is not finalized. You may forget returning Response object or `await next()`");return u.res}catch(u){return this.handleError(u,i)}})()}},Pr=Mr;H=new WeakMap;var ke="[^/]+",de=".*",xe="(?:|/.*)",ie=Symbol();function Jn(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===de||e===xe?1:t===de||t===xe?-1:e===ke?1:t===ke?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var je=class{constructor(){this.children={}}insert(e,t,r,n,s){if(e.length===0){if(this.index!==void 0)throw ie;if(s)return;this.index=t;return}let[o,...i]=e,a=o==="*"?i.length===0?["","",de]:["","",ke]:o==="/*"?["","",xe]:o.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),u;if(a){let h=a[1],x=a[2]||ke;if(h&&a[2]&&(x=x.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(x)))throw ie;if(u=this.children[x],!u){if(Object.keys(this.children).some(p=>p!==de&&p!==xe))throw ie;if(s)return;u=this.children[x]=new je,h!==""&&(u.varIndex=n.varIndex++)}!s&&h!==""&&r.push([h,u.varIndex])}else if(u=this.children[o],!u){if(Object.keys(this.children).some(h=>h.length>1&&h!==de&&h!==xe))throw ie;if(s)return;u=this.children[o]=new je}u.insert(i,t,r,n,s)}buildRegExpStr(){let t=Object.keys(this.children).sort(Jn).map(r=>{let n=this.children[r];return(typeof n.varIndex=="number"?`(${r})@${n.varIndex}`:r)+n.buildRegExpStr()});return typeof this.index=="number"&&t.unshift(`#${this.index}`),t.length===0?"":t.length===1?t[0]:"(?:"+t.join("|")+")"}};var Or=class{constructor(){this.context={varIndex:0},this.root=new je}insert(e,t,r){let n=[],s=[];for(let i=0;;){let a=!1;if(e=e.replace(/\{[^}]+\}/g,u=>{let h=`@\\${i}`;return s[i]=[h,u],i++,a=!0,h}),!a)break}let o=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let i=s.length-1;i>=0;i--){let[a]=s[i];for(let u=o.length-1;u>=0;u--)if(o[u].indexOf(a)!==-1){o[u]=o[u].replace(a,s[i][1]);break}}return this.root.insert(o,t,n,this.context,r),n}buildRegExp(){let e=this.root.buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0,r=[],n=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(s,o,i)=>typeof o<"u"?(r[++t]=Number(o),"$()"):(typeof i<"u"&&(n[Number(i)]=++t),"")),[new RegExp(`^${e}`),r,n]}};var st=[T,...Oe].map(e=>e.toUpperCase()),Ar=[],Qn=[/^$/,[],{}],ot={};function Nr(e){return ot[e]??(ot[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*/,"(?:|/.*)")}$`))}function Zn(){ot={}}function es(e){let t=new Or,r=[];if(e.length===0)return Qn;let n=e.map(h=>[!/\*|\/:/.test(h[0]),...h]).sort(([h,x],[p,_])=>h?1:p?-1:x.length-_.length),s={};for(let h=0,x=-1,p=n.length;h<p;h++){let[_,b,g]=n[h];_?s[b]=[g.map(([m])=>[m,{}]),Ar]:x++;let w;try{w=t.insert(b,x,_)}catch(m){throw m===ie?new Ne(b):m}_||(r[x]=g.map(([m,A])=>{let P={};for(A-=1;A>=0;A--){let[k,j]=w[A];P[k]=j}return[m,P]}))}let[o,i,a]=t.buildRegExp();for(let h=0,x=r.length;h<x;h++)for(let p=0,_=r[h].length;p<_;p++){let b=r[h][p]?.[1];if(!b)continue;let g=Object.keys(b);for(let w=0,m=g.length;w<m;w++)b[g[w]]=a[b[g[w]]]}let u=[];for(let h in i)u[h]=r[i[h]];return[o,u,s]}function ae(e,t){if(e){for(let r of Object.keys(e).sort((n,s)=>s.length-n.length))if(Nr(r).test(t))return[...e[r]]}}var it=class{constructor(){this.name="RegExpRouter",this.middleware={[T]:{}},this.routes={[T]:{}}}add(e,t,r){var n;let{middleware:s,routes:o}=this;if(!s||!o)throw new Error(Ae);st.indexOf(e)===-1&&st.push(e),s[e]||[s,o].forEach(u=>{u[e]={},Object.keys(u[T]).forEach(h=>{u[e][h]=[...u[T][h]]})}),t==="/*"&&(t="*");let i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){let u=Nr(t);e===T?Object.keys(s).forEach(h=>{var x;(x=s[h])[t]||(x[t]=ae(s[h],t)||ae(s[T],t)||[])}):(n=s[e])[t]||(n[t]=ae(s[e],t)||ae(s[T],t)||[]),Object.keys(s).forEach(h=>{(e===T||e===h)&&Object.keys(s[h]).forEach(x=>{u.test(x)&&s[h][x].push([r,i])})}),Object.keys(o).forEach(h=>{(e===T||e===h)&&Object.keys(o[h]).forEach(x=>u.test(x)&&o[h][x].push([r,i]))});return}let a=Me(t)||[t];for(let u=0,h=a.length;u<h;u++){let x=a[u];Object.keys(o).forEach(p=>{var _;(e===T||e===p)&&((_=o[p])[x]||(_[x]=[...ae(s[p],x)||ae(s[T],x)||[]]),o[p][x].push([r,i-h+u+1]))})}}match(e,t){Zn();let r=this.buildAllMatchers();return this.match=(n,s)=>{let o=r[n],i=o[2][s];if(i)return i;let a=s.match(o[0]);if(!a)return[[],Ar];let u=a.indexOf("",1);return[o[1][u],a]},this.match(e,t)}buildAllMatchers(){let e={};return st.forEach(t=>{e[t]=this.buildMatcher(t)||e[T]}),this.middleware=this.routes=void 0,e}buildMatcher(e){let t=[],r=e===T;return[this.middleware,this.routes].forEach(n=>{let s=n[e]?Object.keys(n[e]).map(o=>[o,n[e][o]]):[];s.length!==0?(r||(r=!0),t.push(...s)):e!==T&&t.push(...Object.keys(n[T]).map(o=>[o,n[T][o]]))}),r?es(t):null}};var at=class{constructor(e){this.name="SmartRouter",this.routers=[],this.routes=[],Object.assign(this,e)}add(e,t,r){if(!this.routes)throw new Error(Ae);this.routes.push([e,t,r])}match(e,t){if(!this.routes)throw new Error("Fatal error");let{routers:r,routes:n}=this,s=r.length,o=0,i;for(;o<s;o++){let a=r[o];try{n.forEach(u=>{a.add(...u)}),i=a.match(e,t)}catch(u){if(u instanceof Ne)continue;throw u}this.match=a.match.bind(a),this.routers=[a],this.routes=void 0;break}if(o===s)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,i}get activeRouter(){if(this.routes||this.routers.length!==1)throw new Error("No active router has been determined yet.");return this.routers[0]}};var ct=class{constructor(e,t,r){if(this.order=0,this.params={},this.children=r||{},this.methods=[],this.name="",e&&t){let n={};n[e]={handler:t,possibleKeys:[],score:0,name:this.name},this.methods=[n]}this.patterns=[]}insert(e,t,r){this.name=`${e} ${t}`,this.order=++this.order;let n=this,s=dr(t),o=[],i=[];for(let h=0,x=s.length;h<x;h++){let p=s[h];if(Object.keys(n.children).includes(p)){i.push(...n.patterns),n=n.children[p];let b=rt(p);b&&o.push(b[1]);continue}n.children[p]=new ct;let _=rt(p);_&&(n.patterns.push(_),i.push(...n.patterns),o.push(_[1])),i.push(...n.patterns),n=n.children[p]}n.methods.length||(n.methods=[]);let a={},u={handler:r,possibleKeys:o.filter((h,x,p)=>p.indexOf(h)===x),name:this.name,score:this.order};return a[e]=u,n.methods.push(a),n}gHSets(e,t,r,n){let s=[];for(let o=0,i=e.methods.length;o<i;o++){let a=e.methods[o],u=a[t]||a[T],h={};u!==void 0&&(u.params={},u.possibleKeys.forEach(x=>{let p=h[u.name];u.params[x]=n[x]&&!p?n[x]:r[x]??n[x],h[u.name]=!0}),s.push(u))}return s}search(e,t){let r=[];this.params={};let s=[this],o=tt(t);for(let a=0,u=o.length;a<u;a++){let h=o[a],x=a===u-1,p=[];for(let _=0,b=s.length;_<b;_++){let g=s[_],w=g.children[h];w&&(w.params=g.params,x===!0?(w.children["*"]&&r.push(...this.gHSets(w.children["*"],e,g.params,{})),r.push(...this.gHSets(w,e,g.params,{}))):p.push(w));for(let m=0,A=g.patterns.length;m<A;m++){let P=g.patterns[m],k={...g.params};if(P==="*"){let O=g.children["*"];O&&(r.push(...this.gHSets(O,e,g.params,{})),p.push(O));continue}if(h==="")continue;let[j,R,I]=P,q=g.children[j],D=o.slice(a).join("/");if(I instanceof RegExp&&I.test(D)){k[R]=D,r.push(...this.gHSets(q,e,g.params,k));continue}(I===!0||I instanceof RegExp&&I.test(h))&&typeof j=="string"&&(k[R]=h,x===!0?(r.push(...this.gHSets(q,e,k,g.params)),q.children["*"]&&r.push(...this.gHSets(q.children["*"],e,k,g.params))):(q.params=k,p.push(q)))}}s=p}return[r.sort((a,u)=>a.score-u.score).map(({handler:a,params:u})=>[a,u])]}};var ft=class{constructor(){this.name="TrieRouter",this.node=new ct}add(e,t,r){let n=Me(t);if(n){for(let s of n)this.node.insert(e,s,r);return}this.node.insert(e,t,r)}match(e,t){return this.node.search(e,t)}};var ut=class extends Pr{constructor(e={}){super(e),this.router=e.router??new at({routers:[new it,new ft]})}};var Br=Object.defineProperty,ts=Object.getOwnPropertyNames,d=(e,t)=>Br(e,"name",{value:t,configurable:!0}),rs=(e,t)=>function(){return t||(0,e[ts(e)[0]])((t={exports:{}}).exports,t),t.exports},Ot=(e,t)=>{for(var r in t)Br(e,r,{get:t[r],enumerable:!0})},ns=rs({"(disabled):util"(){}}),$e={};Ot($e,{addChainableMethod:()=>Bt,addLengthGuard:()=>me,addMethod:()=>Dt,addProperty:()=>Rt,checkError:()=>z,compareByInspect:()=>qe,eql:()=>hn,expectTypes:()=>Hr,flag:()=>v,getActual:()=>Le,getMessage:()=>Tt,getName:()=>Ue,getOperator:()=>Ut,getOwnEnumerableProperties:()=>Ft,getOwnEnumerablePropertySymbols:()=>Lt,getPathInfo:()=>$t,hasProperty:()=>Fe,inspect:()=>E,isNaN:()=>Be,isProxyEnabled:()=>ge,objDisplay:()=>Z,overwriteChainableMethod:()=>zt,overwriteMethod:()=>qt,overwriteProperty:()=>It,proxify:()=>le,test:()=>At,transferFlags:()=>U,type:()=>M});var z={};Ot(z,{compatibleConstructor:()=>Lr,compatibleInstance:()=>zr,compatibleMessage:()=>Fr,getConstructorName:()=>Ur,getMessage:()=>Wr});function zr(e,t){return t instanceof Error&&e===t}d(zr,"compatibleInstance");function Lr(e,t){return t instanceof Error?e.constructor===t.constructor||e instanceof t.constructor:t.prototype instanceof Error||t===Error?e.constructor===t||e instanceof t:!1}d(Lr,"compatibleConstructor");function Fr(e,t){let r=typeof e=="string"?e:e.message;return t instanceof RegExp?t.test(r):typeof t=="string"?r.indexOf(t)!==-1:!1}d(Fr,"compatibleMessage");function Ur(e){let t=e;return e instanceof Error?t=e.constructor.name:typeof e=="function"&&(t=e.name,t===""&&(t=new e().name||t)),t}d(Ur,"getConstructorName");function Wr(e){let t="";return e&&e.message?t=e.message:typeof e=="string"&&(t=e),t}d(Wr,"getMessage");function v(e,t,r){var n=e.__flags||(e.__flags=Object.create(null));if(arguments.length===3)n[t]=r;else return n[t]}d(v,"flag");function At(e,t){var r=v(e,"negate"),n=t[0];return r?!n:n}d(At,"test");function M(e){if(typeof e>"u")return"undefined";if(e===null)return"null";let t=e[Symbol.toStringTag];return typeof t=="string"?t:Object.prototype.toString.call(e).slice(8,-1)}d(M,"type");var ss="captureStackTrace"in Error,S=class Vr extends Error{static{d(this,"AssertionError")}message;get name(){return"AssertionError"}get ok(){return!1}constructor(t="Unspecified AssertionError",r,n){super(t),this.message=t,ss&&Error.captureStackTrace(this,n||Vr);for(let s in r)s in this||(this[s]=r[s])}toJSON(t){return{...this,name:this.name,message:this.message,ok:!1,stack:t!==!1?this.stack:void 0}}};function Hr(e,t){var r=v(e,"message"),n=v(e,"ssfi");r=r?r+": ":"",e=v(e,"object"),t=t.map(function(i){return i.toLowerCase()}),t.sort();var s=t.map(function(i,a){var u=~["a","e","i","o","u"].indexOf(i.charAt(0))?"an":"a",h=t.length>1&&a===t.length-1?"or ":"";return h+u+" "+i}).join(", "),o=M(e).toLowerCase();if(!t.some(function(i){return o===i}))throw new S(r+"object tested must be "+s+", but "+o+" given",void 0,n)}d(Hr,"expectTypes");function Le(e,t){return t.length>4?t[4]:e._obj}d(Le,"getActual");var Tr={bold:["1","22"],dim:["2","22"],italic:["3","23"],underline:["4","24"],inverse:["7","27"],hidden:["8","28"],strike:["9","29"],black:["30","39"],red:["31","39"],green:["32","39"],yellow:["33","39"],blue:["34","39"],magenta:["35","39"],cyan:["36","39"],white:["37","39"],brightblack:["30;1","39"],brightred:["31;1","39"],brightgreen:["32;1","39"],brightyellow:["33;1","39"],brightblue:["34;1","39"],brightmagenta:["35;1","39"],brightcyan:["36;1","39"],brightwhite:["37;1","39"],grey:["90","39"]},os={special:"cyan",number:"yellow",bigint:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",symbol:"green",date:"magenta",regexp:"red"},fe="\u2026";function Kr(e,t){let r=Tr[os[t]]||Tr[t]||"";return r?`\x1B[${r[0]}m${String(e)}\x1B[${r[1]}m`:String(e)}d(Kr,"colorise");function Gr({showHidden:e=!1,depth:t=2,colors:r=!1,customInspect:n=!0,showProxy:s=!1,maxArrayLength:o=1/0,breakLength:i=1/0,seen:a=[],truncate:u=1/0,stylize:h=String}={},x){let p={showHidden:!!e,depth:Number(t),colors:!!r,customInspect:!!n,showProxy:!!s,maxArrayLength:Number(o),breakLength:Number(i),truncate:Number(u),seen:a,inspect:x,stylize:h};return p.colors&&(p.stylize=Kr),p}d(Gr,"normaliseOptions");function Y(e,t,r=fe){e=String(e);let n=r.length,s=e.length;return n>t&&s>n?r:s>t&&s>n?`${e.slice(0,t-n)}${r}`:e}d(Y,"truncate");function L(e,t,r,n=", "){r=r||t.inspect;let s=e.length;if(s===0)return"";let o=t.truncate,i="",a="",u="";for(let h=0;h<s;h+=1){let x=h+1===e.length,p=h+2===e.length;u=`${fe}(${e.length-h})`;let _=e[h];t.truncate=o-i.length-(x?0:n.length);let b=a||r(_,t)+(x?"":n),g=i.length+b.length,w=g+u.length;if(x&&g>o&&i.length+u.length<=o||!x&&!p&&w>o||(a=x?"":r(e[h+1],t)+(p?"":n),!x&&p&&w>o&&g+a.length>o))break;if(i+=b,!x&&!p&&g+a.length>=o){u=`${fe}(${e.length-h-1})`;break}u=""}return`${i}${u}`}d(L,"inspectList");function Yr(e){return e.match(/^[a-zA-Z_][a-zA-Z_0-9]*$/)?e:JSON.stringify(e).replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'")}d(Yr,"quoteComplexKey");function ue([e,t],r){return r.truncate-=2,typeof e=="string"?e=Yr(e):typeof e!="number"&&(e=`[${r.inspect(e,r)}]`),r.truncate-=e.length,t=r.inspect(t,r),`${e}: ${t}`}d(ue,"inspectProperty");function Xr(e,t){let r=Object.keys(e).slice(e.length);if(!e.length&&!r.length)return"[]";t.truncate-=4;let n=L(e,t);t.truncate-=n.length;let s="";return r.length&&(s=L(r.map(o=>[o,e[o]]),t,ue)),`[ ${n}${s?`, ${s}`:""} ]`}d(Xr,"inspectArray");var is=d(e=>typeof Buffer=="function"&&e instanceof Buffer?"Buffer":e[Symbol.toStringTag]?e[Symbol.toStringTag]:e.constructor.name,"getArrayName");function K(e,t){let r=is(e);t.truncate-=r.length+4;let n=Object.keys(e).slice(e.length);if(!e.length&&!n.length)return`${r}[]`;let s="";for(let i=0;i<e.length;i++){let a=`${t.stylize(Y(e[i],t.truncate),"number")}${i===e.length-1?"":", "}`;if(t.truncate-=a.length,e[i]!==e.length&&t.truncate<=3){s+=`${fe}(${e.length-e[i]+1})`;break}s+=a}let o="";return n.length&&(o=L(n.map(i=>[i,e[i]]),t,ue)),`${r}[ ${s}${o?`, ${o}`:""} ]`}d(K,"inspectTypedArray");function Jr(e,t){let r=e.toJSON();if(r===null)return"Invalid Date";let n=r.split("T"),s=n[0];return t.stylize(`${s}T${Y(n[1],t.truncate-s.length-1)}`,"date")}d(Jr,"inspectDate");function dt(e,t){let r=e[Symbol.toStringTag]||"Function",n=e.name;return n?t.stylize(`[${r} ${Y(n,t.truncate-11)}]`,"special"):t.stylize(`[${r}]`,"special")}d(dt,"inspectFunction");function Qr([e,t],r){return r.truncate-=4,e=r.inspect(e,r),r.truncate-=e.length,t=r.inspect(t,r),`${e} => ${t}`}d(Qr,"inspectMapEntry");function Zr(e){let t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}d(Zr,"mapToEntries");function en(e,t){return e.size-1<=0?"Map{}":(t.truncate-=7,`Map{ ${L(Zr(e),t,Qr)} }`)}d(en,"inspectMap");var as=Number.isNaN||(e=>e!==e);function xt(e,t){return as(e)?t.stylize("NaN","number"):e===1/0?t.stylize("Infinity","number"):e===-1/0?t.stylize("-Infinity","number"):e===0?t.stylize(1/e===1/0?"+0":"-0","number"):t.stylize(Y(String(e),t.truncate),"number")}d(xt,"inspectNumber");function pt(e,t){let r=Y(e.toString(),t.truncate-1);return r!==fe&&(r+="n"),t.stylize(r,"bigint")}d(pt,"inspectBigInt");function tn(e,t){let r=e.toString().split("/")[2],n=t.truncate-(2+r.length),s=e.source;return t.stylize(`/${Y(s,n)}/${r}`,"regexp")}d(tn,"inspectRegExp");function rn(e){let t=[];return e.forEach(r=>{t.push(r)}),t}d(rn,"arrayFromSet");function nn(e,t){return e.size===0?"Set{}":(t.truncate-=7,`Set{ ${L(rn(e),t)} }`)}d(nn,"inspectSet");var Cr=new RegExp("['\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]","g"),cs={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"},fs=16,us=4;function sn(e){return cs[e]||`\\u${`0000${e.charCodeAt(0).toString(fs)}`.slice(-us)}`}d(sn,"escape");function _t(e,t){return Cr.test(e)&&(e=e.replace(Cr,sn)),t.stylize(`'${Y(e,t.truncate-2)}'`,"string")}d(_t,"inspectString");function bt(e){return"description"in Symbol.prototype?e.description?`Symbol(${e.description})`:"Symbol()":e.toString()}d(bt,"inspectSymbol");var on=d(()=>"Promise{\u2026}","getPromiseValue");try{let{getPromiseDetails:e,kPending:t,kRejected:r}=process.binding("util");Array.isArray(e(Promise.resolve()))&&(on=d((n,s)=>{let[o,i]=e(n);return o===t?"Promise{<pending>}":`Promise${o===r?"!":""}{${s.inspect(i,s)}}`},"getPromiseValue"))}catch{}var ls=on;function _e(e,t){let r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[];if(r.length===0&&n.length===0)return"{}";if(t.truncate-=4,t.seen=t.seen||[],t.seen.indexOf(e)>=0)return"[Circular]";t.seen.push(e);let s=L(r.map(a=>[a,e[a]]),t,ue),o=L(n.map(a=>[a,e[a]]),t,ue);t.seen.pop();let i="";return s&&o&&(i=", "),`{ ${s}${i}${o} }`}d(_e,"inspectObject");var lt=typeof Symbol<"u"&&Symbol.toStringTag?Symbol.toStringTag:!1;function an(e,t){let r="";return lt&&lt in e&&(r=e[lt]),r=r||e.constructor.name,(!r||r==="_class")&&(r="<Anonymous Class>"),t.truncate-=r.length,`${r}${_e(e,t)}`}d(an,"inspectClass");function cn(e,t){return e.length===0?"Arguments[]":(t.truncate-=13,`Arguments[ ${L(e,t)} ]`)}d(cn,"inspectArguments");var hs=["stack","line","column","name","message","fileName","lineNumber","columnNumber","number","description"];function fn(e,t){let r=Object.getOwnPropertyNames(e).filter(i=>hs.indexOf(i)===-1),n=e.name;t.truncate-=n.length;let s="";typeof e.message=="string"?s=Y(e.message,t.truncate):r.unshift("message"),s=s?`: ${s}`:"",t.truncate-=s.length+5;let o=L(r.map(i=>[i,e[i]]),t,ue);return`${n}${s}${o?` { ${o} }`:""}`}d(fn,"inspectObject");function un([e,t],r){return r.truncate-=3,t?`${r.stylize(String(e),"yellow")}=${r.stylize(`"${t}"`,"string")}`:`${r.stylize(String(e),"yellow")}`}d(un,"inspectAttribute");function Re(e,t){return L(e,t,Nt,`
`)}d(Re,"inspectHTMLCollection");function Nt(e,t){let r=e.getAttributeNames(),n=e.tagName.toLowerCase(),s=t.stylize(`<${n}`,"special"),o=t.stylize(">","special"),i=t.stylize(`</${n}>`,"special");t.truncate-=n.length*2+5;let a="";r.length>0&&(a+=" ",a+=L(r.map(x=>[x,e.getAttribute(x)]),t,un," ")),t.truncate-=a.length;let u=t.truncate,h=Re(e.children,t);return h&&h.length>u&&(h=`${fe}(${e.children.length})`),`${s}${a}${o}${h}${i}`}d(Nt,"inspectHTML");var ds=typeof Symbol=="function"&&typeof Symbol.for=="function",ht=ds?Symbol.for("chai/inspect"):"@@chai/inspect",ce=!1;try{let e=ns();ce=e.inspect?e.inspect.custom:!1}catch{ce=!1}var kr=new WeakMap,jr={},$r={undefined:(e,t)=>t.stylize("undefined","undefined"),null:(e,t)=>t.stylize("null","null"),boolean:(e,t)=>t.stylize(String(e),"boolean"),Boolean:(e,t)=>t.stylize(String(e),"boolean"),number:xt,Number:xt,bigint:pt,BigInt:pt,string:_t,String:_t,function:dt,Function:dt,symbol:bt,Symbol:bt,Array:Xr,Date:Jr,Map:en,Set:nn,RegExp:tn,Promise:ls,WeakSet:(e,t)=>t.stylize("WeakSet{\u2026}","special"),WeakMap:(e,t)=>t.stylize("WeakMap{\u2026}","special"),Arguments:cn,Int8Array:K,Uint8Array:K,Uint8ClampedArray:K,Int16Array:K,Uint16Array:K,Int32Array:K,Uint32Array:K,Float32Array:K,Float64Array:K,Generator:()=>"",DataView:()=>"",ArrayBuffer:()=>"",Error:fn,HTMLCollection:Re,NodeList:Re},xs=d((e,t,r)=>ht in e&&typeof e[ht]=="function"?e[ht](t):ce&&ce in e&&typeof e[ce]=="function"?e[ce](t.depth,t):"inspect"in e&&typeof e.inspect=="function"?e.inspect(t.depth,t):"constructor"in e&&kr.has(e.constructor)?kr.get(e.constructor)(e,t):jr[r]?jr[r](e,t):"","inspectCustom"),ps=Object.prototype.toString;function De(e,t={}){let r=Gr(t,De),{customInspect:n}=r,s=e===null?"null":typeof e;if(s==="object"&&(s=ps.call(e).slice(8,-1)),s in $r)return $r[s](e,r);if(n&&e){let i=xs(e,r,s);if(i)return typeof i=="string"?i:De(i,r)}let o=e?Object.getPrototypeOf(e):!1;return o===Object.prototype||o===null?_e(e,r):e&&typeof HTMLElement=="function"&&e instanceof HTMLElement?Nt(e,r):"constructor"in e?e.constructor!==Object?an(e,r):_e(e,r):e===Object(e)?_e(e,r):r.stylize(String(e),s)}d(De,"inspect");var B={includeStack:!1,showDiff:!0,truncateThreshold:40,useProxy:!0,proxyExcludedKeys:["then","catch","inspect","toJSON"],deepEqual:null};function E(e,t,r,n){var s={colors:n,depth:typeof r>"u"?2:r,showHidden:t,truncate:B.truncateThreshold?B.truncateThreshold:1/0};return De(e,s)}d(E,"inspect");function Z(e){var t=E(e),r=Object.prototype.toString.call(e);if(B.truncateThreshold&&t.length>=B.truncateThreshold){if(r==="[object Function]")return!e.name||e.name===""?"[Function]":"[Function: "+e.name+"]";if(r==="[object Array]")return"[ Array("+e.length+") ]";if(r==="[object Object]"){var n=Object.keys(e),s=n.length>2?n.splice(0,2).join(", ")+", ...":n.join(", ");return"{ Object ("+s+") }"}else return t}else return t}d(Z,"objDisplay");function Tt(e,t){var r=v(e,"negate"),n=v(e,"object"),s=t[3],o=Le(e,t),i=r?t[2]:t[1],a=v(e,"message");return typeof i=="function"&&(i=i()),i=i||"",i=i.replace(/#\{this\}/g,function(){return Z(n)}).replace(/#\{act\}/g,function(){return Z(o)}).replace(/#\{exp\}/g,function(){return Z(s)}),a?a+": "+i:i}d(Tt,"getMessage");function U(e,t,r){var n=e.__flags||(e.__flags=Object.create(null));t.__flags||(t.__flags=Object.create(null)),r=arguments.length===3?r:!0;for(var s in n)(r||s!=="object"&&s!=="ssfi"&&s!=="lockSsfi"&&s!="message")&&(t.__flags[s]=n[s])}d(U,"transferFlags");function gt(e){if(typeof e>"u")return"undefined";if(e===null)return"null";let t=e[Symbol.toStringTag];return typeof t=="string"?t:Object.prototype.toString.call(e).slice(8,-1)}d(gt,"type");function Ct(){this._key="chai/deep-eql__"+Math.random()+Date.now()}d(Ct,"FakeMap");Ct.prototype={get:d(function(t){return t[this._key]},"get"),set:d(function(t,r){Object.isExtensible(t)&&Object.defineProperty(t,this._key,{value:r,configurable:!0})},"set")};var ln=typeof WeakMap=="function"?WeakMap:Ct;function mt(e,t,r){if(!r||ee(e)||ee(t))return null;var n=r.get(e);if(n){var s=n.get(t);if(typeof s=="boolean")return s}return null}d(mt,"memoizeCompare");function pe(e,t,r,n){if(!(!r||ee(e)||ee(t))){var s=r.get(e);s?s.set(t,n):(s=new ln,s.set(t,n),r.set(e,s))}}d(pe,"memoizeSet");var hn=be;function be(e,t,r){if(r&&r.comparator)return yt(e,t,r);var n=kt(e,t);return n!==null?n:yt(e,t,r)}d(be,"deepEqual");function kt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t?!0:ee(e)||ee(t)?!1:null}d(kt,"simpleEqual");function yt(e,t,r){r=r||{},r.memoize=r.memoize===!1?!1:r.memoize||new ln;var n=r&&r.comparator,s=mt(e,t,r.memoize);if(s!==null)return s;var o=mt(t,e,r.memoize);if(o!==null)return o;if(n){var i=n(e,t);if(i===!1||i===!0)return pe(e,t,r.memoize,i),i;var a=kt(e,t);if(a!==null)return a}var u=gt(e);if(u!==gt(t))return pe(e,t,r.memoize,!1),!1;pe(e,t,r.memoize,!0);var h=dn(e,t,u,r);return pe(e,t,r.memoize,h),h}d(yt,"extensiveDeepEqual");function dn(e,t,r,n){switch(r){case"String":case"Number":case"Boolean":case"Date":return be(e.valueOf(),t.valueOf());case"Promise":case"Symbol":case"function":case"WeakMap":case"WeakSet":return e===t;case"Error":return jt(e,t,["name","message","code"],n);case"Arguments":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"Array":return Q(e,t,n);case"RegExp":return xn(e,t);case"Generator":return pn(e,t,n);case"DataView":return Q(new Uint8Array(e.buffer),new Uint8Array(t.buffer),n);case"ArrayBuffer":return Q(new Uint8Array(e),new Uint8Array(t),n);case"Set":return wt(e,t,n);case"Map":return wt(e,t,n);case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.Instant":case"Temporal.ZonedDateTime":case"Temporal.PlainYearMonth":case"Temporal.PlainMonthDay":return e.equals(t);case"Temporal.Duration":return e.total("nanoseconds")===t.total("nanoseconds");case"Temporal.TimeZone":case"Temporal.Calendar":return e.toString()===t.toString();default:return bn(e,t,n)}}d(dn,"extensiveDeepEqualByType");function xn(e,t){return e.toString()===t.toString()}d(xn,"regexpEqual");function wt(e,t,r){if(e.size!==t.size)return!1;if(e.size===0)return!0;var n=[],s=[];return e.forEach(d(function(i,a){n.push([i,a])},"gatherEntries")),t.forEach(d(function(i,a){s.push([i,a])},"gatherEntries")),Q(n.sort(),s.sort(),r)}d(wt,"entriesEqual");function Q(e,t,r){var n=e.length;if(n!==t.length)return!1;if(n===0)return!0;for(var s=-1;++s<n;)if(be(e[s],t[s],r)===!1)return!1;return!0}d(Q,"iterableEqual");function pn(e,t,r){return Q(Ie(e),Ie(t),r)}d(pn,"generatorEqual");function _n(e){return typeof Symbol<"u"&&typeof e=="object"&&typeof Symbol.iterator<"u"&&typeof e[Symbol.iterator]=="function"}d(_n,"hasIteratorFunction");function vt(e){if(_n(e))try{return Ie(e[Symbol.iterator]())}catch{return[]}return[]}d(vt,"getIteratorEntries");function Ie(e){for(var t=e.next(),r=[t.value];t.done===!1;)t=e.next(),r.push(t.value);return r}d(Ie,"getGeneratorEntries");function Et(e){var t=[];for(var r in e)t.push(r);return t}d(Et,"getEnumerableKeys");function St(e){for(var t=[],r=Object.getOwnPropertySymbols(e),n=0;n<r.length;n+=1){var s=r[n];Object.getOwnPropertyDescriptor(e,s).enumerable&&t.push(s)}return t}d(St,"getEnumerableSymbols");function jt(e,t,r,n){var s=r.length;if(s===0)return!0;for(var o=0;o<s;o+=1)if(be(e[r[o]],t[r[o]],n)===!1)return!1;return!0}d(jt,"keysEqual");function bn(e,t,r){var n=Et(e),s=Et(t),o=St(e),i=St(t);if(n=n.concat(o),s=s.concat(i),n.length&&n.length===s.length)return Q(Mt(n).sort(),Mt(s).sort())===!1?!1:jt(e,t,n,r);var a=vt(e),u=vt(t);return a.length&&a.length===u.length?(a.sort(),u.sort(),Q(a,u,r)):n.length===0&&a.length===0&&s.length===0&&u.length===0}d(bn,"objectEqual");function ee(e){return e===null||typeof e!="object"}d(ee,"isPrimitive");function Mt(e){return e.map(d(function(r){return typeof r=="symbol"?r.toString():r},"mapSymbol"))}d(Mt,"mapSymbols");function Fe(e,t){return typeof e>"u"||e===null?!1:t in Object(e)}d(Fe,"hasProperty");function gn(e){return e.replace(/([^\\])\[/g,"$1.[").match(/(\\\.|[^.]+?)+/g).map(n=>{if(n==="constructor"||n==="__proto__"||n==="prototype")return{};let o=/^\[(\d+)\]$/.exec(n),i=null;return o?i={i:parseFloat(o[1])}:i={p:n.replace(/\\([.[\]])/g,"$1")},i})}d(gn,"parsePath");function Pt(e,t,r){let n=e,s=null;r=typeof r>"u"?t.length:r;for(let o=0;o<r;o++){let i=t[o];n&&(typeof i.p>"u"?n=n[i.i]:n=n[i.p],o===r-1&&(s=n))}return s}d(Pt,"internalGetPathValue");function $t(e,t){let r=gn(t),n=r[r.length-1],s={parent:r.length>1?Pt(e,r,r.length-1):e,name:n.p||n.i,value:Pt(e,r)};return s.exists=Fe(s.parent,s.name),s}d($t,"getPathInfo");function f(e,t,r,n){return v(this,"ssfi",r||f),v(this,"lockSsfi",n),v(this,"object",e),v(this,"message",t),v(this,"eql",B.deepEqual||hn),le(this)}d(f,"Assertion");Object.defineProperty(f,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),B.includeStack},set:function(e){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),B.includeStack=e}});Object.defineProperty(f,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),B.showDiff},set:function(e){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),B.showDiff=e}});f.addProperty=function(e,t){Rt(this.prototype,e,t)};f.addMethod=function(e,t){Dt(this.prototype,e,t)};f.addChainableMethod=function(e,t,r){Bt(this.prototype,e,t,r)};f.overwriteProperty=function(e,t){It(this.prototype,e,t)};f.overwriteMethod=function(e,t){qt(this.prototype,e,t)};f.overwriteChainableMethod=function(e,t,r){zt(this.prototype,e,t,r)};f.prototype.assert=function(e,t,r,n,s,o){var i=At(this,arguments);if(o!==!1&&(o=!0),n===void 0&&s===void 0&&(o=!1),B.showDiff!==!0&&(o=!1),!i){t=Tt(this,arguments);var a=Le(this,arguments),u={actual:a,expected:n,showDiff:o},h=Ut(this,arguments);throw h&&(u.operator=h),new S(t,u,B.includeStack?this.assert:v(this,"ssfi"))}};Object.defineProperty(f.prototype,"_obj",{get:function(){return v(this,"object")},set:function(e){v(this,"object",e)}});function ge(){return B.useProxy&&typeof Proxy<"u"&&typeof Reflect<"u"}d(ge,"isProxyEnabled");function Rt(e,t,r){r=r===void 0?function(){}:r,Object.defineProperty(e,t,{get:d(function n(){!ge()&&!v(this,"lockSsfi")&&v(this,"ssfi",n);var s=r.call(this);if(s!==void 0)return s;var o=new f;return U(this,o),o},"propertyGetter"),configurable:!0})}d(Rt,"addProperty");var _s=Object.getOwnPropertyDescriptor(function(){},"length");function me(e,t,r){return _s.configurable&&Object.defineProperty(e,"length",{get:function(){throw Error(r?"Invalid Chai property: "+t+'.length. Due to a compatibility issue, "length" cannot directly follow "'+t+'". Use "'+t+'.lengthOf" instead.':"Invalid Chai property: "+t+'.length. See docs for proper usage of "'+t+'".')}}),e}d(me,"addLengthGuard");function mn(e){var t=Object.getOwnPropertyNames(e);function r(s){t.indexOf(s)===-1&&t.push(s)}d(r,"addProperty");for(var n=Object.getPrototypeOf(e);n!==null;)Object.getOwnPropertyNames(n).forEach(r),n=Object.getPrototypeOf(n);return t}d(mn,"getProperties");var Rr=["__flags","__methods","_obj","assert"];function le(e,t){return ge()?new Proxy(e,{get:d(function r(n,s){if(typeof s=="string"&&B.proxyExcludedKeys.indexOf(s)===-1&&!Reflect.has(n,s)){if(t)throw Error("Invalid Chai property: "+t+"."+s+'. See docs for proper usage of "'+t+'".');var o=null,i=4;throw mn(n).forEach(function(a){if(!Object.prototype.hasOwnProperty(a)&&Rr.indexOf(a)===-1){var u=yn(s,a,i);u<i&&(o=a,i=u)}}),Error(o!==null?"Invalid Chai property: "+s+'. Did you mean "'+o+'"?':"Invalid Chai property: "+s)}return Rr.indexOf(s)===-1&&!v(n,"lockSsfi")&&v(n,"ssfi",r),Reflect.get(n,s)},"proxyGetter")}):e}d(le,"proxify");function yn(e,t,r){if(Math.abs(e.length-t.length)>=r)return r;for(var n=[],s=0;s<=e.length;s++)n[s]=Array(t.length+1).fill(0),n[s][0]=s;for(var o=0;o<t.length;o++)n[0][o]=o;for(var s=1;s<=e.length;s++)for(var i=e.charCodeAt(s-1),o=1;o<=t.length;o++){if(Math.abs(s-o)>=r){n[s][o]=r;continue}n[s][o]=Math.min(n[s-1][o]+1,n[s][o-1]+1,n[s-1][o-1]+(i===t.charCodeAt(o-1)?0:1))}return n[e.length][t.length]}d(yn,"stringDistanceCapped");function Dt(e,t,r){var n=d(function(){v(this,"lockSsfi")||v(this,"ssfi",n);var s=r.apply(this,arguments);if(s!==void 0)return s;var o=new f;return U(this,o),o},"methodWrapper");me(n,t,!1),e[t]=le(n,t)}d(Dt,"addMethod");function It(e,t,r){var n=Object.getOwnPropertyDescriptor(e,t),s=d(function(){},"_super");n&&typeof n.get=="function"&&(s=n.get),Object.defineProperty(e,t,{get:d(function o(){!ge()&&!v(this,"lockSsfi")&&v(this,"ssfi",o);var i=v(this,"lockSsfi");v(this,"lockSsfi",!0);var a=r(s).call(this);if(v(this,"lockSsfi",i),a!==void 0)return a;var u=new f;return U(this,u),u},"overwritingPropertyGetter"),configurable:!0})}d(It,"overwriteProperty");function qt(e,t,r){var n=e[t],s=d(function(){throw new Error(t+" is not a function")},"_super");n&&typeof n=="function"&&(s=n);var o=d(function(){v(this,"lockSsfi")||v(this,"ssfi",o);var i=v(this,"lockSsfi");v(this,"lockSsfi",!0);var a=r(s).apply(this,arguments);if(v(this,"lockSsfi",i),a!==void 0)return a;var u=new f;return U(this,u),u},"overwritingMethodWrapper");me(o,t,!1),e[t]=le(o,t)}d(qt,"overwriteMethod");var bs=typeof Object.setPrototypeOf=="function",Dr=d(function(){},"testFn"),gs=Object.getOwnPropertyNames(Dr).filter(function(e){var t=Object.getOwnPropertyDescriptor(Dr,e);return typeof t!="object"?!0:!t.configurable}),ms=Function.prototype.call,ys=Function.prototype.apply;function Bt(e,t,r,n){typeof n!="function"&&(n=d(function(){},"chainingBehavior"));var s={method:r,chainingBehavior:n};e.__methods||(e.__methods={}),e.__methods[t]=s,Object.defineProperty(e,t,{get:d(function(){s.chainingBehavior.call(this);var i=d(function(){v(this,"lockSsfi")||v(this,"ssfi",i);var h=s.method.apply(this,arguments);if(h!==void 0)return h;var x=new f;return U(this,x),x},"chainableMethodWrapper");if(me(i,t,!0),bs){var a=Object.create(this);a.call=ms,a.apply=ys,Object.setPrototypeOf(i,a)}else{var u=Object.getOwnPropertyNames(e);u.forEach(function(h){if(gs.indexOf(h)===-1){var x=Object.getOwnPropertyDescriptor(e,h);Object.defineProperty(i,h,x)}})}return U(this,i),le(i)},"chainableMethodGetter"),configurable:!0})}d(Bt,"addChainableMethod");function zt(e,t,r,n){var s=e.__methods[t],o=s.chainingBehavior;s.chainingBehavior=d(function(){var u=n(o).call(this);if(u!==void 0)return u;var h=new f;return U(this,h),h},"overwritingChainableMethodGetter");var i=s.method;s.method=d(function(){var u=r(i).apply(this,arguments);if(u!==void 0)return u;var h=new f;return U(this,h),h},"overwritingChainableMethodWrapper")}d(zt,"overwriteChainableMethod");function qe(e,t){return E(e)<E(t)?-1:1}d(qe,"compareByInspect");function Lt(e){return typeof Object.getOwnPropertySymbols!="function"?[]:Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})}d(Lt,"getOwnEnumerablePropertySymbols");function Ft(e){return Object.keys(e).concat(Lt(e))}d(Ft,"getOwnEnumerableProperties");function wn(e){return e!==e}d(wn,"_isNaN");var Be=Number.isNaN||wn;function vn(e){var t=M(e),r=["Array","Object","Function"];return r.indexOf(t)!==-1}d(vn,"isObjectType");function Ut(e,t){var r=v(e,"operator"),n=v(e,"negate"),s=t[3],o=n?t[2]:t[1];if(r)return r;if(typeof o=="function"&&(o=o()),o=o||"",!!o&&!/\shave\s/.test(o)){var i=vn(s);return/\snot\s/.test(o)?i?"notDeepStrictEqual":"notStrictEqual":i?"deepStrictEqual":"strictEqual"}}d(Ut,"getOperator");function Ue(e){return e.name}d(Ue,"getName");var{flag:l}=$e;["to","be","been","is","and","has","have","with","that","which","at","of","same","but","does","still","also"].forEach(function(e){f.addProperty(e)});f.addProperty("not",function(){l(this,"negate",!0)});f.addProperty("deep",function(){l(this,"deep",!0)});f.addProperty("nested",function(){l(this,"nested",!0)});f.addProperty("own",function(){l(this,"own",!0)});f.addProperty("ordered",function(){l(this,"ordered",!0)});f.addProperty("any",function(){l(this,"any",!0),l(this,"all",!1)});f.addProperty("all",function(){l(this,"all",!0),l(this,"any",!1)});var Ir={function:["function","asyncfunction","generatorfunction","asyncgeneratorfunction"],asyncfunction:["asyncfunction","asyncgeneratorfunction"],generatorfunction:["generatorfunction","asyncgeneratorfunction"],asyncgeneratorfunction:["asyncgeneratorfunction"]};function Wt(e,t){t&&l(this,"message",t),e=e.toLowerCase();var r=l(this,"object"),n=~["a","e","i","o","u"].indexOf(e.charAt(0))?"an ":"a ";let s=M(r).toLowerCase();Ir.function.includes(e)?this.assert(Ir[e].includes(s),"expected #{this} to be "+n+e,"expected #{this} not to be "+n+e):this.assert(e===s,"expected #{this} to be "+n+e,"expected #{this} not to be "+n+e)}d(Wt,"an");f.addChainableMethod("an",Wt);f.addChainableMethod("a",Wt);function En(e,t){return Be(e)&&Be(t)||e===t}d(En,"SameValueZero");function ye(){l(this,"contains",!0)}d(ye,"includeChainingBehavior");function we(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=M(r).toLowerCase(),s=l(this,"message"),o=l(this,"negate"),i=l(this,"ssfi"),a=l(this,"deep"),u=a?"deep ":"",h=a?l(this,"eql"):En;s=s?s+": ":"";var x=!1;switch(n){case"string":x=r.indexOf(e)!==-1;break;case"weakset":if(a)throw new S(s+"unable to use .deep.include with WeakSet",void 0,i);x=r.has(e);break;case"map":r.forEach(function(g){x=x||h(g,e)});break;case"set":a?r.forEach(function(g){x=x||h(g,e)}):x=r.has(e);break;case"array":a?x=r.some(function(g){return h(g,e)}):x=r.indexOf(e)!==-1;break;default:if(e!==Object(e))throw new S(s+"the given combination of arguments ("+n+" and "+M(e).toLowerCase()+") is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a "+M(e).toLowerCase(),void 0,i);var p=Object.keys(e),_=null,b=0;if(p.forEach(function(g){var w=new f(r);if(U(this,w,!0),l(w,"lockSsfi",!0),!o||p.length===1){w.property(g,e[g]);return}try{w.property(g,e[g])}catch(m){if(!z.compatibleConstructor(m,S))throw m;_===null&&(_=m),b++}},this),o&&p.length>1&&b===p.length)throw _;return}this.assert(x,"expected #{this} to "+u+"include "+E(e),"expected #{this} to not "+u+"include "+E(e))}d(we,"include");f.addChainableMethod("include",we,ye);f.addChainableMethod("contain",we,ye);f.addChainableMethod("contains",we,ye);f.addChainableMethod("includes",we,ye);f.addProperty("ok",function(){this.assert(l(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")});f.addProperty("true",function(){this.assert(l(this,"object")===!0,"expected #{this} to be true","expected #{this} to be false",!l(this,"negate"))});f.addProperty("callable",function(){let e=l(this,"object"),t=l(this,"ssfi"),r=l(this,"message"),n=r?`${r}: `:"",s=l(this,"negate"),o=s?`${n}expected ${E(e)} not to be a callable function`:`${n}expected ${E(e)} to be a callable function`,i=["Function","AsyncFunction","GeneratorFunction","AsyncGeneratorFunction"].includes(M(e));if(i&&s||!i&&!s)throw new S(o,void 0,t)});f.addProperty("false",function(){this.assert(l(this,"object")===!1,"expected #{this} to be false","expected #{this} to be true",!!l(this,"negate"))});f.addProperty("null",function(){this.assert(l(this,"object")===null,"expected #{this} to be null","expected #{this} not to be null")});f.addProperty("undefined",function(){this.assert(l(this,"object")===void 0,"expected #{this} to be undefined","expected #{this} not to be undefined")});f.addProperty("NaN",function(){this.assert(Be(l(this,"object")),"expected #{this} to be NaN","expected #{this} not to be NaN")});function Vt(){var e=l(this,"object");this.assert(e!=null,"expected #{this} to exist","expected #{this} to not exist")}d(Vt,"assertExist");f.addProperty("exist",Vt);f.addProperty("exists",Vt);f.addProperty("empty",function(){var e=l(this,"object"),t=l(this,"ssfi"),r=l(this,"message"),n;switch(r=r?r+": ":"",M(e).toLowerCase()){case"array":case"string":n=e.length;break;case"map":case"set":n=e.size;break;case"weakmap":case"weakset":throw new S(r+".empty was passed a weak collection",void 0,t);case"function":var s=r+".empty was passed a function "+Ue(e);throw new S(s.trim(),void 0,t);default:if(e!==Object(e))throw new S(r+".empty was passed non-string primitive "+E(e),void 0,t);n=Object.keys(e).length}this.assert(n===0,"expected #{this} to be empty","expected #{this} not to be empty")});function Ht(){var e=l(this,"object"),t=M(e);this.assert(t==="Arguments","expected #{this} to be arguments but got "+t,"expected #{this} to not be arguments")}d(Ht,"checkArguments");f.addProperty("arguments",Ht);f.addProperty("Arguments",Ht);function We(e,t){t&&l(this,"message",t);var r=l(this,"object");if(l(this,"deep")){var n=l(this,"lockSsfi");l(this,"lockSsfi",!0),this.eql(e),l(this,"lockSsfi",n)}else this.assert(e===r,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",e,this._obj,!0)}d(We,"assertEqual");f.addMethod("equal",We);f.addMethod("equals",We);f.addMethod("eq",We);function Kt(e,t){t&&l(this,"message",t);var r=l(this,"eql");this.assert(r(e,l(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",e,this._obj,!0)}d(Kt,"assertEql");f.addMethod("eql",Kt);f.addMethod("eqls",Kt);function Ve(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=l(this,"doLength"),s=l(this,"message"),o=s?s+": ":"",i=l(this,"ssfi"),a=M(r).toLowerCase(),u=M(e).toLowerCase(),h,x=!0;if(n&&a!=="map"&&a!=="set"&&new f(r,s,i,!0).to.have.property("length"),!n&&a==="date"&&u!=="date")h=o+"the argument to above must be a date";else if(u!=="number"&&(n||a==="number"))h=o+"the argument to above must be a number";else if(!n&&a!=="date"&&a!=="number"){var p=a==="string"?"'"+r+"'":r;h=o+"expected "+p+" to be a number or a date"}else x=!1;if(x)throw new S(h,void 0,i);if(n){var _="length",b;a==="map"||a==="set"?(_="size",b=r.size):b=r.length,this.assert(b>e,"expected #{this} to have a "+_+" above #{exp} but got #{act}","expected #{this} to not have a "+_+" above #{exp}",e,b)}else this.assert(r>e,"expected #{this} to be above #{exp}","expected #{this} to be at most #{exp}",e)}d(Ve,"assertAbove");f.addMethod("above",Ve);f.addMethod("gt",Ve);f.addMethod("greaterThan",Ve);function He(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=l(this,"doLength"),s=l(this,"message"),o=s?s+": ":"",i=l(this,"ssfi"),a=M(r).toLowerCase(),u=M(e).toLowerCase(),h,x=!0;if(n&&a!=="map"&&a!=="set"&&new f(r,s,i,!0).to.have.property("length"),!n&&a==="date"&&u!=="date")h=o+"the argument to least must be a date";else if(u!=="number"&&(n||a==="number"))h=o+"the argument to least must be a number";else if(!n&&a!=="date"&&a!=="number"){var p=a==="string"?"'"+r+"'":r;h=o+"expected "+p+" to be a number or a date"}else x=!1;if(x)throw new S(h,void 0,i);if(n){var _="length",b;a==="map"||a==="set"?(_="size",b=r.size):b=r.length,this.assert(b>=e,"expected #{this} to have a "+_+" at least #{exp} but got #{act}","expected #{this} to have a "+_+" below #{exp}",e,b)}else this.assert(r>=e,"expected #{this} to be at least #{exp}","expected #{this} to be below #{exp}",e)}d(He,"assertLeast");f.addMethod("least",He);f.addMethod("gte",He);f.addMethod("greaterThanOrEqual",He);function Ke(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=l(this,"doLength"),s=l(this,"message"),o=s?s+": ":"",i=l(this,"ssfi"),a=M(r).toLowerCase(),u=M(e).toLowerCase(),h,x=!0;if(n&&a!=="map"&&a!=="set"&&new f(r,s,i,!0).to.have.property("length"),!n&&a==="date"&&u!=="date")h=o+"the argument to below must be a date";else if(u!=="number"&&(n||a==="number"))h=o+"the argument to below must be a number";else if(!n&&a!=="date"&&a!=="number"){var p=a==="string"?"'"+r+"'":r;h=o+"expected "+p+" to be a number or a date"}else x=!1;if(x)throw new S(h,void 0,i);if(n){var _="length",b;a==="map"||a==="set"?(_="size",b=r.size):b=r.length,this.assert(b<e,"expected #{this} to have a "+_+" below #{exp} but got #{act}","expected #{this} to not have a "+_+" below #{exp}",e,b)}else this.assert(r<e,"expected #{this} to be below #{exp}","expected #{this} to be at least #{exp}",e)}d(Ke,"assertBelow");f.addMethod("below",Ke);f.addMethod("lt",Ke);f.addMethod("lessThan",Ke);function Ge(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=l(this,"doLength"),s=l(this,"message"),o=s?s+": ":"",i=l(this,"ssfi"),a=M(r).toLowerCase(),u=M(e).toLowerCase(),h,x=!0;if(n&&a!=="map"&&a!=="set"&&new f(r,s,i,!0).to.have.property("length"),!n&&a==="date"&&u!=="date")h=o+"the argument to most must be a date";else if(u!=="number"&&(n||a==="number"))h=o+"the argument to most must be a number";else if(!n&&a!=="date"&&a!=="number"){var p=a==="string"?"'"+r+"'":r;h=o+"expected "+p+" to be a number or a date"}else x=!1;if(x)throw new S(h,void 0,i);if(n){var _="length",b;a==="map"||a==="set"?(_="size",b=r.size):b=r.length,this.assert(b<=e,"expected #{this} to have a "+_+" at most #{exp} but got #{act}","expected #{this} to have a "+_+" above #{exp}",e,b)}else this.assert(r<=e,"expected #{this} to be at most #{exp}","expected #{this} to be above #{exp}",e)}d(Ge,"assertMost");f.addMethod("most",Ge);f.addMethod("lte",Ge);f.addMethod("lessThanOrEqual",Ge);f.addMethod("within",function(e,t,r){r&&l(this,"message",r);var n=l(this,"object"),s=l(this,"doLength"),o=l(this,"message"),i=o?o+": ":"",a=l(this,"ssfi"),u=M(n).toLowerCase(),h=M(e).toLowerCase(),x=M(t).toLowerCase(),p,_=!0,b=h==="date"&&x==="date"?e.toISOString()+".."+t.toISOString():e+".."+t;if(s&&u!=="map"&&u!=="set"&&new f(n,o,a,!0).to.have.property("length"),!s&&u==="date"&&(h!=="date"||x!=="date"))p=i+"the arguments to within must be dates";else if((h!=="number"||x!=="number")&&(s||u==="number"))p=i+"the arguments to within must be numbers";else if(!s&&u!=="date"&&u!=="number"){var g=u==="string"?"'"+n+"'":n;p=i+"expected "+g+" to be a number or a date"}else _=!1;if(_)throw new S(p,void 0,a);if(s){var w="length",m;u==="map"||u==="set"?(w="size",m=n.size):m=n.length,this.assert(m>=e&&m<=t,"expected #{this} to have a "+w+" within "+b,"expected #{this} to not have a "+w+" within "+b)}else this.assert(n>=e&&n<=t,"expected #{this} to be within "+b,"expected #{this} to not be within "+b)});function Gt(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=l(this,"ssfi"),s=l(this,"message");try{var o=r instanceof e}catch(a){throw a instanceof TypeError?(s=s?s+": ":"",new S(s+"The instanceof assertion needs a constructor but "+M(e)+" was given.",void 0,n)):a}var i=Ue(e);i==null&&(i="an unnamed constructor"),this.assert(o,"expected #{this} to be an instance of "+i,"expected #{this} to not be an instance of "+i)}d(Gt,"assertInstanceOf");f.addMethod("instanceof",Gt);f.addMethod("instanceOf",Gt);function Yt(e,t,r){r&&l(this,"message",r);var n=l(this,"nested"),s=l(this,"own"),o=l(this,"message"),i=l(this,"object"),a=l(this,"ssfi"),u=typeof e;if(o=o?o+": ":"",n){if(u!=="string")throw new S(o+"the argument to property must be a string when using nested syntax",void 0,a)}else if(u!=="string"&&u!=="number"&&u!=="symbol")throw new S(o+"the argument to property must be a string, number, or symbol",void 0,a);if(n&&s)throw new S(o+'The "nested" and "own" flags cannot be combined.',void 0,a);if(i==null)throw new S(o+"Target cannot be null or undefined.",void 0,a);var h=l(this,"deep"),x=l(this,"negate"),p=n?$t(i,e):null,_=n?p.value:i[e],b=h?l(this,"eql"):(m,A)=>m===A,g="";h&&(g+="deep "),s&&(g+="own "),n&&(g+="nested "),g+="property ";var w;s?w=Object.prototype.hasOwnProperty.call(i,e):n?w=p.exists:w=Fe(i,e),(!x||arguments.length===1)&&this.assert(w,"expected #{this} to have "+g+E(e),"expected #{this} to not have "+g+E(e)),arguments.length>1&&this.assert(w&&b(t,_),"expected #{this} to have "+g+E(e)+" of #{exp}, but got #{act}","expected #{this} to not have "+g+E(e)+" of #{act}",t,_),l(this,"object",_)}d(Yt,"assertProperty");f.addMethod("property",Yt);function Xt(e,t,r){l(this,"own",!0),Yt.apply(this,arguments)}d(Xt,"assertOwnProperty");f.addMethod("ownProperty",Xt);f.addMethod("haveOwnProperty",Xt);function Jt(e,t,r){typeof t=="string"&&(r=t,t=null),r&&l(this,"message",r);var n=l(this,"object"),s=Object.getOwnPropertyDescriptor(Object(n),e),o=l(this,"eql");s&&t?this.assert(o(t,s),"expected the own property descriptor for "+E(e)+" on #{this} to match "+E(t)+", got "+E(s),"expected the own property descriptor for "+E(e)+" on #{this} to not match "+E(t),t,s,!0):this.assert(s,"expected #{this} to have an own property descriptor for "+E(e),"expected #{this} to not have an own property descriptor for "+E(e)),l(this,"object",s)}d(Jt,"assertOwnPropertyDescriptor");f.addMethod("ownPropertyDescriptor",Jt);f.addMethod("haveOwnPropertyDescriptor",Jt);function Qt(){l(this,"doLength",!0)}d(Qt,"assertLengthChain");function Zt(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=M(r).toLowerCase(),s=l(this,"message"),o=l(this,"ssfi"),i="length",a;switch(n){case"map":case"set":i="size",a=r.size;break;default:new f(r,s,o,!0).to.have.property("length"),a=r.length}this.assert(a==e,"expected #{this} to have a "+i+" of #{exp} but got #{act}","expected #{this} to not have a "+i+" of #{act}",e,a)}d(Zt,"assertLength");f.addChainableMethod("length",Zt,Qt);f.addChainableMethod("lengthOf",Zt,Qt);function er(e,t){t&&l(this,"message",t);var r=l(this,"object");this.assert(e.exec(r),"expected #{this} to match "+e,"expected #{this} not to match "+e)}d(er,"assertMatch");f.addMethod("match",er);f.addMethod("matches",er);f.addMethod("string",function(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=l(this,"message"),s=l(this,"ssfi");new f(r,n,s,!0).is.a("string"),this.assert(~r.indexOf(e),"expected #{this} to contain "+E(e),"expected #{this} to not contain "+E(e))});function tr(e){var t=l(this,"object"),r=M(t),n=M(e),s=l(this,"ssfi"),o=l(this,"deep"),i,a="",u,h=!0,x=l(this,"message");x=x?x+": ":"";var p=x+"when testing keys against an object or an array you must give a single Array|Object|String argument or multiple String arguments";if(r==="Map"||r==="Set")a=o?"deeply ":"",u=[],t.forEach(function(P,k){u.push(k)}),n!=="Array"&&(e=Array.prototype.slice.call(arguments));else{switch(u=Ft(t),n){case"Array":if(arguments.length>1)throw new S(p,void 0,s);break;case"Object":if(arguments.length>1)throw new S(p,void 0,s);e=Object.keys(e);break;default:e=Array.prototype.slice.call(arguments)}e=e.map(function(P){return typeof P=="symbol"?P:String(P)})}if(!e.length)throw new S(x+"keys required",void 0,s);var _=e.length,b=l(this,"any"),g=l(this,"all"),w=e,m=o?l(this,"eql"):(P,k)=>P===k;if(!b&&!g&&(g=!0),b&&(h=w.some(function(P){return u.some(function(k){return m(P,k)})})),g&&(h=w.every(function(P){return u.some(function(k){return m(P,k)})}),l(this,"contains")||(h=h&&e.length==u.length)),_>1){e=e.map(function(P){return E(P)});var A=e.pop();g&&(i=e.join(", ")+", and "+A),b&&(i=e.join(", ")+", or "+A)}else i=E(e[0]);i=(_>1?"keys ":"key ")+i,i=(l(this,"contains")?"contain ":"have ")+i,this.assert(h,"expected #{this} to "+a+i,"expected #{this} to not "+a+i,w.slice(0).sort(qe),u.sort(qe),!0)}d(tr,"assertKeys");f.addMethod("keys",tr);f.addMethod("key",tr);function Ye(e,t,r){r&&l(this,"message",r);var n=l(this,"object"),s=l(this,"ssfi"),o=l(this,"message"),i=l(this,"negate")||!1;new f(n,o,s,!0).is.a("function"),(e instanceof RegExp||typeof e=="string")&&(t=e,e=null);var a;try{n()}catch(A){a=A}var u=e===void 0&&t===void 0,h=!!(e&&t),x=!1,p=!1;if(u||!u&&!i){var _="an error";e instanceof Error?_="#{exp}":e&&(_=z.getConstructorName(e)),this.assert(a,"expected #{this} to throw "+_,"expected #{this} to not throw an error but #{act} was thrown",e&&e.toString(),a instanceof Error?a.toString():typeof a=="string"?a:a&&z.getConstructorName(a))}if(e&&a){if(e instanceof Error){var b=z.compatibleInstance(a,e);b===i&&(h&&i?x=!0:this.assert(i,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a&&!i?" but #{act} was thrown":""),e.toString(),a.toString()))}var g=z.compatibleConstructor(a,e);g===i&&(h&&i?x=!0:this.assert(i,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&z.getConstructorName(e),a instanceof Error?a.toString():a&&z.getConstructorName(a)))}if(a&&t!==void 0&&t!==null){var w="including";t instanceof RegExp&&(w="matching");var m=z.compatibleMessage(a,t);m===i&&(h&&i?p=!0:this.assert(i,"expected #{this} to throw error "+w+" #{exp} but got #{act}","expected #{this} to throw error not "+w+" #{exp}",t,z.getMessage(a)))}x&&p&&this.assert(i,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}"+(a?" but #{act} was thrown":""),e instanceof Error?e.toString():e&&z.getConstructorName(e),a instanceof Error?a.toString():a&&z.getConstructorName(a)),l(this,"object",a)}d(Ye,"assertThrows");f.addMethod("throw",Ye);f.addMethod("throws",Ye);f.addMethod("Throw",Ye);function rr(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=l(this,"itself"),s=typeof r=="function"&&!n?r.prototype[e]:r[e];this.assert(typeof s=="function","expected #{this} to respond to "+E(e),"expected #{this} to not respond to "+E(e))}d(rr,"respondTo");f.addMethod("respondTo",rr);f.addMethod("respondsTo",rr);f.addProperty("itself",function(){l(this,"itself",!0)});function nr(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=e(r);this.assert(n,"expected #{this} to satisfy "+Z(e),"expected #{this} to not satisfy"+Z(e),!l(this,"negate"),n)}d(nr,"satisfy");f.addMethod("satisfy",nr);f.addMethod("satisfies",nr);function sr(e,t,r){r&&l(this,"message",r);var n=l(this,"object"),s=l(this,"message"),o=l(this,"ssfi");if(new f(n,s,o,!0).is.a("number"),typeof e!="number"||typeof t!="number"){s=s?s+": ":"";var i=t===void 0?", and a delta is required":"";throw new S(s+"the arguments to closeTo or approximately must be numbers"+i,void 0,o)}this.assert(Math.abs(n-e)<=t,"expected #{this} to be close to "+e+" +/- "+t,"expected #{this} not to be close to "+e+" +/- "+t)}d(sr,"closeTo");f.addMethod("closeTo",sr);f.addMethod("approximately",sr);function Sn(e,t,r,n,s){let o=Array.from(t),i=Array.from(e);if(!n){if(i.length!==o.length)return!1;o=o.slice()}return i.every(function(a,u){if(s)return r?r(a,o[u]):a===o[u];if(!r){var h=o.indexOf(a);return h===-1?!1:(n||o.splice(h,1),!0)}return o.some(function(x,p){return r(a,x)?(n||o.splice(p,1),!0):!1})})}d(Sn,"isSubsetOf");f.addMethod("members",function(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=l(this,"message"),s=l(this,"ssfi");new f(r,n,s,!0).to.be.iterable,new f(e,n,s,!0).to.be.iterable;var o=l(this,"contains"),i=l(this,"ordered"),a,u,h;o?(a=i?"an ordered superset":"a superset",u="expected #{this} to be "+a+" of #{exp}",h="expected #{this} to not be "+a+" of #{exp}"):(a=i?"ordered members":"members",u="expected #{this} to have the same "+a+" as #{exp}",h="expected #{this} to not have the same "+a+" as #{exp}");var x=l(this,"deep")?l(this,"eql"):void 0;this.assert(Sn(e,r,x,o,i),u,h,e,r,!0)});f.addProperty("iterable",function(e){e&&l(this,"message",e);var t=l(this,"object");this.assert(t!=null&&t[Symbol.iterator],"expected #{this} to be an iterable","expected #{this} to not be an iterable",t)});function Mn(e,t){t&&l(this,"message",t);var r=l(this,"object"),n=l(this,"message"),s=l(this,"ssfi"),o=l(this,"contains"),i=l(this,"deep"),a=l(this,"eql");new f(e,n,s,!0).to.be.an("array"),o?this.assert(e.some(function(u){return r.indexOf(u)>-1}),"expected #{this} to contain one of #{exp}","expected #{this} to not contain one of #{exp}",e,r):i?this.assert(e.some(function(u){return a(r,u)}),"expected #{this} to deeply equal one of #{exp}","expected #{this} to deeply equal one of #{exp}",e,r):this.assert(e.indexOf(r)>-1,"expected #{this} to be one of #{exp}","expected #{this} to not be one of #{exp}",e,r)}d(Mn,"oneOf");f.addMethod("oneOf",Mn);function or(e,t,r){r&&l(this,"message",r);var n=l(this,"object"),s=l(this,"message"),o=l(this,"ssfi");new f(n,s,o,!0).is.a("function");var i;t?(new f(e,s,o,!0).to.have.property(t),i=e[t]):(new f(e,s,o,!0).is.a("function"),i=e()),n();var a=t==null?e():e[t],u=t==null?i:"."+t;l(this,"deltaMsgObj",u),l(this,"initialDeltaValue",i),l(this,"finalDeltaValue",a),l(this,"deltaBehavior","change"),l(this,"realDelta",a!==i),this.assert(i!==a,"expected "+u+" to change","expected "+u+" to not change")}d(or,"assertChanges");f.addMethod("change",or);f.addMethod("changes",or);function ir(e,t,r){r&&l(this,"message",r);var n=l(this,"object"),s=l(this,"message"),o=l(this,"ssfi");new f(n,s,o,!0).is.a("function");var i;t?(new f(e,s,o,!0).to.have.property(t),i=e[t]):(new f(e,s,o,!0).is.a("function"),i=e()),new f(i,s,o,!0).is.a("number"),n();var a=t==null?e():e[t],u=t==null?i:"."+t;l(this,"deltaMsgObj",u),l(this,"initialDeltaValue",i),l(this,"finalDeltaValue",a),l(this,"deltaBehavior","increase"),l(this,"realDelta",a-i),this.assert(a-i>0,"expected "+u+" to increase","expected "+u+" to not increase")}d(ir,"assertIncreases");f.addMethod("increase",ir);f.addMethod("increases",ir);function ar(e,t,r){r&&l(this,"message",r);var n=l(this,"object"),s=l(this,"message"),o=l(this,"ssfi");new f(n,s,o,!0).is.a("function");var i;t?(new f(e,s,o,!0).to.have.property(t),i=e[t]):(new f(e,s,o,!0).is.a("function"),i=e()),new f(i,s,o,!0).is.a("number"),n();var a=t==null?e():e[t],u=t==null?i:"."+t;l(this,"deltaMsgObj",u),l(this,"initialDeltaValue",i),l(this,"finalDeltaValue",a),l(this,"deltaBehavior","decrease"),l(this,"realDelta",i-a),this.assert(a-i<0,"expected "+u+" to decrease","expected "+u+" to not decrease")}d(ar,"assertDecreases");f.addMethod("decrease",ar);f.addMethod("decreases",ar);function Pn(e,t){t&&l(this,"message",t);var r=l(this,"deltaMsgObj"),n=l(this,"initialDeltaValue"),s=l(this,"finalDeltaValue"),o=l(this,"deltaBehavior"),i=l(this,"realDelta"),a;o==="change"?a=Math.abs(s-n)===Math.abs(e):a=i===Math.abs(e),this.assert(a,"expected "+r+" to "+o+" by "+e,"expected "+r+" to not "+o+" by "+e)}d(Pn,"assertDelta");f.addMethod("by",Pn);f.addProperty("extensible",function(){var e=l(this,"object"),t=e===Object(e)&&Object.isExtensible(e);this.assert(t,"expected #{this} to be extensible","expected #{this} to not be extensible")});f.addProperty("sealed",function(){var e=l(this,"object"),t=e===Object(e)?Object.isSealed(e):!0;this.assert(t,"expected #{this} to be sealed","expected #{this} to not be sealed")});f.addProperty("frozen",function(){var e=l(this,"object"),t=e===Object(e)?Object.isFrozen(e):!0;this.assert(t,"expected #{this} to be frozen","expected #{this} to not be frozen")});f.addProperty("finite",function(e){var t=l(this,"object");this.assert(typeof t=="number"&&isFinite(t),"expected #{this} to be a finite number","expected #{this} to not be a finite number")});function ze(e,t){return new f(e,t)}d(ze,"expect");ze.fail=function(e,t,r,n){throw arguments.length<2&&(r=e,e=void 0),r=r||"expect.fail()",new S(r,{actual:e,expected:t,operator:n},ze.fail)};var On={};Ot(On,{Should:()=>vs,should:()=>ws});function cr(){function e(){return this instanceof String||this instanceof Number||this instanceof Boolean||typeof Symbol=="function"&&this instanceof Symbol||typeof BigInt=="function"&&this instanceof BigInt?new f(this.valueOf(),null,e):new f(this,null,e)}d(e,"shouldGetter");function t(n){Object.defineProperty(this,"should",{value:n,enumerable:!0,configurable:!0,writable:!0})}d(t,"shouldSetter"),Object.defineProperty(Object.prototype,"should",{set:t,get:e,configurable:!0});var r={};return r.fail=function(n,s,o,i){throw arguments.length<2&&(o=n,n=void 0),o=o||"should.fail()",new S(o,{actual:n,expected:s,operator:i},r.fail)},r.equal=function(n,s,o){new f(n,o).to.equal(s)},r.Throw=function(n,s,o,i){new f(n,i).to.Throw(s,o)},r.exist=function(n,s){new f(n,s).to.exist},r.not={},r.not.equal=function(n,s,o){new f(n,o).to.not.equal(s)},r.not.Throw=function(n,s,o,i){new f(n,i).to.not.Throw(s,o)},r.not.exist=function(n,s){new f(n,s).to.not.exist},r.throw=r.Throw,r.not.throw=r.not.Throw,r}d(cr,"loadShould");var ws=cr,vs=cr;function c(e,t){var r=new f(null,null,c,!0);r.assert(e,t,"[ negation message unavailable ]")}d(c,"assert");c.fail=function(e,t,r,n){throw arguments.length<2&&(r=e,e=void 0),r=r||"assert.fail()",new S(r,{actual:e,expected:t,operator:n},c.fail)};c.isOk=function(e,t){new f(e,t,c.isOk,!0).is.ok};c.isNotOk=function(e,t){new f(e,t,c.isNotOk,!0).is.not.ok};c.equal=function(e,t,r){var n=new f(e,r,c.equal,!0);n.assert(t==v(n,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",t,e,!0)};c.notEqual=function(e,t,r){var n=new f(e,r,c.notEqual,!0);n.assert(t!=v(n,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",t,e,!0)};c.strictEqual=function(e,t,r){new f(e,r,c.strictEqual,!0).to.equal(t)};c.notStrictEqual=function(e,t,r){new f(e,r,c.notStrictEqual,!0).to.not.equal(t)};c.deepEqual=c.deepStrictEqual=function(e,t,r){new f(e,r,c.deepEqual,!0).to.eql(t)};c.notDeepEqual=function(e,t,r){new f(e,r,c.notDeepEqual,!0).to.not.eql(t)};c.isAbove=function(e,t,r){new f(e,r,c.isAbove,!0).to.be.above(t)};c.isAtLeast=function(e,t,r){new f(e,r,c.isAtLeast,!0).to.be.least(t)};c.isBelow=function(e,t,r){new f(e,r,c.isBelow,!0).to.be.below(t)};c.isAtMost=function(e,t,r){new f(e,r,c.isAtMost,!0).to.be.most(t)};c.isTrue=function(e,t){new f(e,t,c.isTrue,!0).is.true};c.isNotTrue=function(e,t){new f(e,t,c.isNotTrue,!0).to.not.equal(!0)};c.isFalse=function(e,t){new f(e,t,c.isFalse,!0).is.false};c.isNotFalse=function(e,t){new f(e,t,c.isNotFalse,!0).to.not.equal(!1)};c.isNull=function(e,t){new f(e,t,c.isNull,!0).to.equal(null)};c.isNotNull=function(e,t){new f(e,t,c.isNotNull,!0).to.not.equal(null)};c.isNaN=function(e,t){new f(e,t,c.isNaN,!0).to.be.NaN};c.isNotNaN=function(e,t){new f(e,t,c.isNotNaN,!0).not.to.be.NaN};c.exists=function(e,t){new f(e,t,c.exists,!0).to.exist};c.notExists=function(e,t){new f(e,t,c.notExists,!0).to.not.exist};c.isUndefined=function(e,t){new f(e,t,c.isUndefined,!0).to.equal(void 0)};c.isDefined=function(e,t){new f(e,t,c.isDefined,!0).to.not.equal(void 0)};c.isCallable=function(e,t){new f(e,t,c.isCallable,!0).is.callable};c.isNotCallable=function(e,t){new f(e,t,c.isNotCallable,!0).is.not.callable};c.isObject=function(e,t){new f(e,t,c.isObject,!0).to.be.a("object")};c.isNotObject=function(e,t){new f(e,t,c.isNotObject,!0).to.not.be.a("object")};c.isArray=function(e,t){new f(e,t,c.isArray,!0).to.be.an("array")};c.isNotArray=function(e,t){new f(e,t,c.isNotArray,!0).to.not.be.an("array")};c.isString=function(e,t){new f(e,t,c.isString,!0).to.be.a("string")};c.isNotString=function(e,t){new f(e,t,c.isNotString,!0).to.not.be.a("string")};c.isNumber=function(e,t){new f(e,t,c.isNumber,!0).to.be.a("number")};c.isNotNumber=function(e,t){new f(e,t,c.isNotNumber,!0).to.not.be.a("number")};c.isFinite=function(e,t){new f(e,t,c.isFinite,!0).to.be.finite};c.isBoolean=function(e,t){new f(e,t,c.isBoolean,!0).to.be.a("boolean")};c.isNotBoolean=function(e,t){new f(e,t,c.isNotBoolean,!0).to.not.be.a("boolean")};c.typeOf=function(e,t,r){new f(e,r,c.typeOf,!0).to.be.a(t)};c.notTypeOf=function(e,t,r){new f(e,r,c.notTypeOf,!0).to.not.be.a(t)};c.instanceOf=function(e,t,r){new f(e,r,c.instanceOf,!0).to.be.instanceOf(t)};c.notInstanceOf=function(e,t,r){new f(e,r,c.notInstanceOf,!0).to.not.be.instanceOf(t)};c.include=function(e,t,r){new f(e,r,c.include,!0).include(t)};c.notInclude=function(e,t,r){new f(e,r,c.notInclude,!0).not.include(t)};c.deepInclude=function(e,t,r){new f(e,r,c.deepInclude,!0).deep.include(t)};c.notDeepInclude=function(e,t,r){new f(e,r,c.notDeepInclude,!0).not.deep.include(t)};c.nestedInclude=function(e,t,r){new f(e,r,c.nestedInclude,!0).nested.include(t)};c.notNestedInclude=function(e,t,r){new f(e,r,c.notNestedInclude,!0).not.nested.include(t)};c.deepNestedInclude=function(e,t,r){new f(e,r,c.deepNestedInclude,!0).deep.nested.include(t)};c.notDeepNestedInclude=function(e,t,r){new f(e,r,c.notDeepNestedInclude,!0).not.deep.nested.include(t)};c.ownInclude=function(e,t,r){new f(e,r,c.ownInclude,!0).own.include(t)};c.notOwnInclude=function(e,t,r){new f(e,r,c.notOwnInclude,!0).not.own.include(t)};c.deepOwnInclude=function(e,t,r){new f(e,r,c.deepOwnInclude,!0).deep.own.include(t)};c.notDeepOwnInclude=function(e,t,r){new f(e,r,c.notDeepOwnInclude,!0).not.deep.own.include(t)};c.match=function(e,t,r){new f(e,r,c.match,!0).to.match(t)};c.notMatch=function(e,t,r){new f(e,r,c.notMatch,!0).to.not.match(t)};c.property=function(e,t,r){new f(e,r,c.property,!0).to.have.property(t)};c.notProperty=function(e,t,r){new f(e,r,c.notProperty,!0).to.not.have.property(t)};c.propertyVal=function(e,t,r,n){new f(e,n,c.propertyVal,!0).to.have.property(t,r)};c.notPropertyVal=function(e,t,r,n){new f(e,n,c.notPropertyVal,!0).to.not.have.property(t,r)};c.deepPropertyVal=function(e,t,r,n){new f(e,n,c.deepPropertyVal,!0).to.have.deep.property(t,r)};c.notDeepPropertyVal=function(e,t,r,n){new f(e,n,c.notDeepPropertyVal,!0).to.not.have.deep.property(t,r)};c.ownProperty=function(e,t,r){new f(e,r,c.ownProperty,!0).to.have.own.property(t)};c.notOwnProperty=function(e,t,r){new f(e,r,c.notOwnProperty,!0).to.not.have.own.property(t)};c.ownPropertyVal=function(e,t,r,n){new f(e,n,c.ownPropertyVal,!0).to.have.own.property(t,r)};c.notOwnPropertyVal=function(e,t,r,n){new f(e,n,c.notOwnPropertyVal,!0).to.not.have.own.property(t,r)};c.deepOwnPropertyVal=function(e,t,r,n){new f(e,n,c.deepOwnPropertyVal,!0).to.have.deep.own.property(t,r)};c.notDeepOwnPropertyVal=function(e,t,r,n){new f(e,n,c.notDeepOwnPropertyVal,!0).to.not.have.deep.own.property(t,r)};c.nestedProperty=function(e,t,r){new f(e,r,c.nestedProperty,!0).to.have.nested.property(t)};c.notNestedProperty=function(e,t,r){new f(e,r,c.notNestedProperty,!0).to.not.have.nested.property(t)};c.nestedPropertyVal=function(e,t,r,n){new f(e,n,c.nestedPropertyVal,!0).to.have.nested.property(t,r)};c.notNestedPropertyVal=function(e,t,r,n){new f(e,n,c.notNestedPropertyVal,!0).to.not.have.nested.property(t,r)};c.deepNestedPropertyVal=function(e,t,r,n){new f(e,n,c.deepNestedPropertyVal,!0).to.have.deep.nested.property(t,r)};c.notDeepNestedPropertyVal=function(e,t,r,n){new f(e,n,c.notDeepNestedPropertyVal,!0).to.not.have.deep.nested.property(t,r)};c.lengthOf=function(e,t,r){new f(e,r,c.lengthOf,!0).to.have.lengthOf(t)};c.hasAnyKeys=function(e,t,r){new f(e,r,c.hasAnyKeys,!0).to.have.any.keys(t)};c.hasAllKeys=function(e,t,r){new f(e,r,c.hasAllKeys,!0).to.have.all.keys(t)};c.containsAllKeys=function(e,t,r){new f(e,r,c.containsAllKeys,!0).to.contain.all.keys(t)};c.doesNotHaveAnyKeys=function(e,t,r){new f(e,r,c.doesNotHaveAnyKeys,!0).to.not.have.any.keys(t)};c.doesNotHaveAllKeys=function(e,t,r){new f(e,r,c.doesNotHaveAllKeys,!0).to.not.have.all.keys(t)};c.hasAnyDeepKeys=function(e,t,r){new f(e,r,c.hasAnyDeepKeys,!0).to.have.any.deep.keys(t)};c.hasAllDeepKeys=function(e,t,r){new f(e,r,c.hasAllDeepKeys,!0).to.have.all.deep.keys(t)};c.containsAllDeepKeys=function(e,t,r){new f(e,r,c.containsAllDeepKeys,!0).to.contain.all.deep.keys(t)};c.doesNotHaveAnyDeepKeys=function(e,t,r){new f(e,r,c.doesNotHaveAnyDeepKeys,!0).to.not.have.any.deep.keys(t)};c.doesNotHaveAllDeepKeys=function(e,t,r){new f(e,r,c.doesNotHaveAllDeepKeys,!0).to.not.have.all.deep.keys(t)};c.throws=function(e,t,r,n){(typeof t=="string"||t instanceof RegExp)&&(r=t,t=null);var s=new f(e,n,c.throws,!0).to.throw(t,r);return v(s,"object")};c.doesNotThrow=function(e,t,r,n){(typeof t=="string"||t instanceof RegExp)&&(r=t,t=null),new f(e,n,c.doesNotThrow,!0).to.not.throw(t,r)};c.operator=function(e,t,r,n){var s;switch(t){case"==":s=e==r;break;case"===":s=e===r;break;case">":s=e>r;break;case">=":s=e>=r;break;case"<":s=e<r;break;case"<=":s=e<=r;break;case"!=":s=e!=r;break;case"!==":s=e!==r;break;default:throw n=n&&n+": ",new S(n+'Invalid operator "'+t+'"',void 0,c.operator)}var o=new f(s,n,c.operator,!0);o.assert(v(o,"object")===!0,"expected "+E(e)+" to be "+t+" "+E(r),"expected "+E(e)+" to not be "+t+" "+E(r))};c.closeTo=function(e,t,r,n){new f(e,n,c.closeTo,!0).to.be.closeTo(t,r)};c.approximately=function(e,t,r,n){new f(e,n,c.approximately,!0).to.be.approximately(t,r)};c.sameMembers=function(e,t,r){new f(e,r,c.sameMembers,!0).to.have.same.members(t)};c.notSameMembers=function(e,t,r){new f(e,r,c.notSameMembers,!0).to.not.have.same.members(t)};c.sameDeepMembers=function(e,t,r){new f(e,r,c.sameDeepMembers,!0).to.have.same.deep.members(t)};c.notSameDeepMembers=function(e,t,r){new f(e,r,c.notSameDeepMembers,!0).to.not.have.same.deep.members(t)};c.sameOrderedMembers=function(e,t,r){new f(e,r,c.sameOrderedMembers,!0).to.have.same.ordered.members(t)};c.notSameOrderedMembers=function(e,t,r){new f(e,r,c.notSameOrderedMembers,!0).to.not.have.same.ordered.members(t)};c.sameDeepOrderedMembers=function(e,t,r){new f(e,r,c.sameDeepOrderedMembers,!0).to.have.same.deep.ordered.members(t)};c.notSameDeepOrderedMembers=function(e,t,r){new f(e,r,c.notSameDeepOrderedMembers,!0).to.not.have.same.deep.ordered.members(t)};c.includeMembers=function(e,t,r){new f(e,r,c.includeMembers,!0).to.include.members(t)};c.notIncludeMembers=function(e,t,r){new f(e,r,c.notIncludeMembers,!0).to.not.include.members(t)};c.includeDeepMembers=function(e,t,r){new f(e,r,c.includeDeepMembers,!0).to.include.deep.members(t)};c.notIncludeDeepMembers=function(e,t,r){new f(e,r,c.notIncludeDeepMembers,!0).to.not.include.deep.members(t)};c.includeOrderedMembers=function(e,t,r){new f(e,r,c.includeOrderedMembers,!0).to.include.ordered.members(t)};c.notIncludeOrderedMembers=function(e,t,r){new f(e,r,c.notIncludeOrderedMembers,!0).to.not.include.ordered.members(t)};c.includeDeepOrderedMembers=function(e,t,r){new f(e,r,c.includeDeepOrderedMembers,!0).to.include.deep.ordered.members(t)};c.notIncludeDeepOrderedMembers=function(e,t,r){new f(e,r,c.notIncludeDeepOrderedMembers,!0).to.not.include.deep.ordered.members(t)};c.oneOf=function(e,t,r){new f(e,r,c.oneOf,!0).to.be.oneOf(t)};c.isIterable=function(e,t){if(e==null||!e[Symbol.iterator])throw t=t?`${t} expected ${E(e)} to be an iterable`:`expected ${E(e)} to be an iterable`,new S(t,void 0,c.isIterable)};c.changes=function(e,t,r,n){arguments.length===3&&typeof t=="function"&&(n=r,r=null),new f(e,n,c.changes,!0).to.change(t,r)};c.changesBy=function(e,t,r,n,s){if(arguments.length===4&&typeof t=="function"){var o=n;n=r,s=o}else arguments.length===3&&(n=r,r=null);new f(e,s,c.changesBy,!0).to.change(t,r).by(n)};c.doesNotChange=function(e,t,r,n){return arguments.length===3&&typeof t=="function"&&(n=r,r=null),new f(e,n,c.doesNotChange,!0).to.not.change(t,r)};c.changesButNotBy=function(e,t,r,n,s){if(arguments.length===4&&typeof t=="function"){var o=n;n=r,s=o}else arguments.length===3&&(n=r,r=null);new f(e,s,c.changesButNotBy,!0).to.change(t,r).but.not.by(n)};c.increases=function(e,t,r,n){return arguments.length===3&&typeof t=="function"&&(n=r,r=null),new f(e,n,c.increases,!0).to.increase(t,r)};c.increasesBy=function(e,t,r,n,s){if(arguments.length===4&&typeof t=="function"){var o=n;n=r,s=o}else arguments.length===3&&(n=r,r=null);new f(e,s,c.increasesBy,!0).to.increase(t,r).by(n)};c.doesNotIncrease=function(e,t,r,n){return arguments.length===3&&typeof t=="function"&&(n=r,r=null),new f(e,n,c.doesNotIncrease,!0).to.not.increase(t,r)};c.increasesButNotBy=function(e,t,r,n,s){if(arguments.length===4&&typeof t=="function"){var o=n;n=r,s=o}else arguments.length===3&&(n=r,r=null);new f(e,s,c.increasesButNotBy,!0).to.increase(t,r).but.not.by(n)};c.decreases=function(e,t,r,n){return arguments.length===3&&typeof t=="function"&&(n=r,r=null),new f(e,n,c.decreases,!0).to.decrease(t,r)};c.decreasesBy=function(e,t,r,n,s){if(arguments.length===4&&typeof t=="function"){var o=n;n=r,s=o}else arguments.length===3&&(n=r,r=null);new f(e,s,c.decreasesBy,!0).to.decrease(t,r).by(n)};c.doesNotDecrease=function(e,t,r,n){return arguments.length===3&&typeof t=="function"&&(n=r,r=null),new f(e,n,c.doesNotDecrease,!0).to.not.decrease(t,r)};c.doesNotDecreaseBy=function(e,t,r,n,s){if(arguments.length===4&&typeof t=="function"){var o=n;n=r,s=o}else arguments.length===3&&(n=r,r=null);return new f(e,s,c.doesNotDecreaseBy,!0).to.not.decrease(t,r).by(n)};c.decreasesButNotBy=function(e,t,r,n,s){if(arguments.length===4&&typeof t=="function"){var o=n;n=r,s=o}else arguments.length===3&&(n=r,r=null);new f(e,s,c.decreasesButNotBy,!0).to.decrease(t,r).but.not.by(n)};c.ifError=function(e){if(e)throw e};c.isExtensible=function(e,t){new f(e,t,c.isExtensible,!0).to.be.extensible};c.isNotExtensible=function(e,t){new f(e,t,c.isNotExtensible,!0).to.not.be.extensible};c.isSealed=function(e,t){new f(e,t,c.isSealed,!0).to.be.sealed};c.isNotSealed=function(e,t){new f(e,t,c.isNotSealed,!0).to.not.be.sealed};c.isFrozen=function(e,t){new f(e,t,c.isFrozen,!0).to.be.frozen};c.isNotFrozen=function(e,t){new f(e,t,c.isNotFrozen,!0).to.not.be.frozen};c.isEmpty=function(e,t){new f(e,t,c.isEmpty,!0).to.be.empty};c.isNotEmpty=function(e,t){new f(e,t,c.isNotEmpty,!0).to.not.be.empty};d(function e(t,r){return c[r]=c[t],e},"alias")("isOk","ok")("isNotOk","notOk")("throws","throw")("throws","Throw")("isExtensible","extensible")("isNotExtensible","notExtensible")("isSealed","sealed")("isNotSealed","notSealed")("isFrozen","frozen")("isNotFrozen","notFrozen")("isEmpty","empty")("isNotEmpty","notEmpty")("isCallable","isFunction")("isNotCallable","isNotFunction");var qr=[];function Es(e){let t={AssertionError:S,util:$e,config:B,expect:ze,assert:c,Assertion:f,...On};return~qr.indexOf(e)||(e(t,$e),qr.push(e)),t}d(Es,"use");function ve(e){let t=/^([^:/?#]+)\/([-a-z0-9A-Z.]+)/,r=e.match(t),n,s;return r&&(n=r[1],s=r[2]),{protocol:n,host:s}}var te;function Ss(){return typeof Bun<"u"||typeof process<"u"&&process.versions&&process.versions.node}function An(e){Ss()?(console.log("node environment!"),import("fs/promises").then(t=>{t.readFile("./config.json","utf8").then(r=>{te=JSON.parse(r),console.log("Configuration loaded:",te),e(te)}).catch(r=>{console.error("Error loading the configuration file:",r)})})):(console.log("cloudflare environment!"),te={proxy_url:"http://localhost:5006",token_prefix:"/user22334455/",local_listen_port:5006},console.log("Configuration loaded:",te),e(te))}function W(){return te}var Ms=[{domain:"accounts.youtube.com",replacements:[{regex:"window.parent.postMessage\\((.*?), .https:.*?;",replacement:"window.parent.postMessage($1);"}]}];function Nn({body:e,proxy_real_host:t,proxy_url_prefix:r}){let n=Ms.find(o=>t.includes(o.domain));if(!n)return e;let s=e;return n.replacements.forEach(({regex:o,replacement:i})=>{let a=i.replace(/\$proxy_url_prefix/g,r);s=s.replace(new RegExp(o,"g"),a)}),s}var Xe;var Ps=({location_value:e,proxy_url_prefix:t,proxy_real_protocol:r,proxy_real_host:n})=>{let s={"(http[s]?)://([-a-z0-9A-Z.]+)":`${t}$1/$2`};for(let o in s){let i=new RegExp(o,"g");e=e.replace(i,s[o])}return e};function Os({location_value:e,proxy_url_prefix:t,proxy_real_protocol:r,proxy_real_host:n}){return Ps({location_value:e,proxy_url_prefix:t,proxy_real_protocol:r,proxy_real_host:n})}function As(){return typeof Bun<"u"||typeof process<"u"&&process.versions&&process.versions.node}async function Ns(e,t){return As()?await Ts(e,t):await Cs(e,t)}async function Ts(e,t){Xe||(Xe=await import("zlib"));try{return t==="br"?Xe.brotliCompressSync(e):t==="gzip"?Xe.gzipSync(e):e}catch(r){return console.error("Compression error:",r),e}}async function Cs(e,t){if(typeof CompressionStream<"u")try{let r;if(t==="gzip"||t==="br")r=e.pipeThrough(new CompressionStream(t));else throw new Error("Unsupported encoding for compression");let n=r.getReader(),s=[],o;for(;!(o=await n.read()).done;)s.push(o.value);return new Uint8Array(s.reduce((a,u)=>a.concat(Array.from(u)),[]))}catch(r){return console.error("Compression error:",r),e}else return console.error("Compression not supported in this environment or for the specified format."),e}async function Tn({proxyResponse:e,newResHeaders:t,req:r}){let n=W(),s=n.proxy_url+n.token_prefix,o=r.proxy_real_protocol,i=r.proxy_real_host,x=`<script>
          const proxy_url_prefix = '${s}';
          const proxy_real_protocol = '${o}';
          const proxy_real_host = '${i}';
          const config_proxy_url = '${n.proxy_url}';
          const config_token_prefix = '${n.token_prefix}';
        `+"function _0x4b57(_0x53af44,_0x2fb704){const _0x5193db=_0x5193();return _0x4b57=function(_0x4b5714,_0x4ec1d8){_0x4b5714=_0x4b5714-0x104;let _0x398c7f=_0x5193db[_0x4b5714];return _0x398c7f;},_0x4b57(_0x53af44,_0x2fb704);}const _0x3a3b04=_0x4b57;(function(_0x5b70c7,_0x54396f){const _0x4fa234=_0x4b57,_0x4f25e0=_0x5b70c7();while(!![]){try{const _0x38e806=-parseInt(_0x4fa234(0x10e))/0x1*(parseInt(_0x4fa234(0x116))/0x2)+-parseInt(_0x4fa234(0x12e))/0x3+parseInt(_0x4fa234(0x11e))/0x4+-parseInt(_0x4fa234(0x147))/0x5*(parseInt(_0x4fa234(0x10f))/0x6)+-parseInt(_0x4fa234(0x14b))/0x7*(parseInt(_0x4fa234(0x12f))/0x8)+parseInt(_0x4fa234(0x141))/0x9*(-parseInt(_0x4fa234(0x121))/0xa)+parseInt(_0x4fa234(0x135))/0xb;if(_0x38e806===_0x54396f)break;else _0x4f25e0['push'](_0x4f25e0['shift']());}catch(_0x4430e3){_0x4f25e0['push'](_0x4f25e0['shift']());}}}(_0x5193,0x981de));function _0x5193(){const _0x42effc=['13866YzecPy','click','some','http','childList','attributes','data-link','&proxy_real_host=','4740808RyFktI','self','documentElement','10tBuUPJ','proxy_worker_registration','blob:','serviceWorker','length','hookFormSubmit: Form element has been removed from the DOM, skipping action change.','setAttribute','startsWith','src','addEventListener','substring','/siteproxy_service_worker.js?proxy_real_protocol=','type','2212176VKvCGG','8691112TEmWlv','includes','disconnect','submit','action','href','36245858ojyoVS','/https','!!! proxy service worker already registered.','Form submitted, new action:','iframe','/https/','DOMContentLoaded','scope','after:','postMessage','active','tagName','9475209ynmXsE','target','replace','clickListenerAdded','then','error','7615bUQKEr','log','childNodes','data-url','7AxzQEi','siteproxy_service_worker.js','load','ELEMENT_NODE','observe','slice','getAttribute','$2/$3','forEach','parentNode','//https','attributeName','host:','36mcvtCt','2880NVVsSg','toLowerCase','siteproxy_service_worker registration failed: ','top','link','PROXY_CUR_LOCATION','hasAttribute'];_0x5193=function(){return _0x42effc;};return _0x5193();}function regReplacement(_0x49ecf6){const _0x55f45a=_0x4b57;if(_0x49ecf6[_0x55f45a(0x130)](config_token_prefix))return _0x49ecf6;let _0x357b7e='';if(_0x49ecf6['startsWith'](_0x55f45a(0x123)))return _0x49ecf6;_0x49ecf6[_0x55f45a(0x128)](config_proxy_url[_0x55f45a(0x106)](0x0,0x4)+config_proxy_url[_0x55f45a(0x106)](0x4))&&(_0x49ecf6=_0x49ecf6[_0x55f45a(0x12b)](config_proxy_url[_0x55f45a(0x106)](0x4)[_0x55f45a(0x125)]+0x4));const _0x5492e0={'()(http[s]?)://([-a-z0-9A-Z.]+)':_0x55f45a(0x119)+proxy_url_prefix[_0x55f45a(0x106)](0x4)+_0x55f45a(0x108)};for(let _0xdae5f6 in _0x5492e0){let _0x21d5a4=new RegExp(_0xdae5f6,'g');_0x49ecf6=_0x49ecf6[_0x55f45a(0x143)](_0x21d5a4,_0x5492e0[_0xdae5f6]);}let _0x16d63e=config_proxy_url[_0x55f45a(0x12b)](config_proxy_url['indexOf']('//'));_0x49ecf6[_0x55f45a(0x128)](_0x16d63e)&&(_0x49ecf6=_0x49ecf6[_0x55f45a(0x12b)](_0x16d63e['length']));let _0x339db2=_0x55f45a(0x119)+proxy_url_prefix[_0x55f45a(0x106)](0x4)+proxy_real_protocol+'/'+proxy_real_host,_0x3e9504='http'+proxy_url_prefix['slice'](0x4);if(_0x49ecf6[_0x55f45a(0x128)]('//'))_0x49ecf6=_0x3e9504+_0x55f45a(0x13a)+_0x49ecf6['slice'](0x2),_0x49ecf6=_0x49ecf6['replace'](_0x55f45a(0x10b),_0x55f45a(0x136));else _0x49ecf6[_0x55f45a(0x128)]('/')&&(_0x49ecf6=_0x339db2+_0x49ecf6);return _0x49ecf6;}const config={'attributes':!![],'childList':!![],'subtree':!![],'attributeOldValue':!![],'characterDataOldValue':!![],'attributeFilter':[_0x3a3b04(0x129),_0x3a3b04(0x134),'action',_0x3a3b04(0x14a),'srcset']};function attributeChanged(_0x5cbbed,_0x1070db){const _0x318247=_0x3a3b04;_0x1070db[_0x318247(0x131)](),_0x5cbbed['forEach'](_0x5be79f=>{const _0x4399ac=_0x318247;switch(_0x5be79f[_0x4399ac(0x12d)]){case _0x4399ac(0x11b):let _0x2d9e7c=_0x5be79f[_0x4399ac(0x142)][_0x4399ac(0x107)](_0x5be79f[_0x4399ac(0x10c)]);if(_0x5be79f[_0x4399ac(0x10c)]==='src'&&_0x5be79f[_0x4399ac(0x142)]['tagName'][_0x4399ac(0x110)]()===_0x4399ac(0x139)||_0x5be79f[_0x4399ac(0x10c)]===_0x4399ac(0x134)&&_0x5be79f[_0x4399ac(0x142)]['tagName'][_0x4399ac(0x110)]()===_0x4399ac(0x113)||window[_0x4399ac(0x11f)]!==window['top']){let _0x5ea268=regReplacement(_0x2d9e7c);_0x5be79f['target']['setAttribute'](_0x5be79f[_0x4399ac(0x10c)],_0x5ea268);}else{if(_0x5be79f[_0x4399ac(0x10c)]===_0x4399ac(0x134))hookclickAndSetAttribute(_0x5be79f[_0x4399ac(0x142)],_0x4399ac(0x134));else _0x5be79f[_0x4399ac(0x10c)]===_0x4399ac(0x133)&&hookFormSubmit(_0x5be79f[_0x4399ac(0x142)]);}(_0x5be79f['attributeName']===_0x4399ac(0x134)||_0x5be79f[_0x4399ac(0x10c)]===_0x4399ac(0x129))&&(_0x2d9e7c&&_0x2d9e7c[_0x4399ac(0x12b)](0x0,0x2)!=='//'&&_0x2d9e7c[_0x4399ac(0x12b)](0x0,0x1)==='/'&&postUrl2ServiceWorker(_0x2d9e7c,proxy_real_protocol,proxy_real_host));if([_0x4399ac(0x11c),_0x4399ac(0x14a)][_0x4399ac(0x130)](_0x5be79f[_0x4399ac(0x10c)])){let _0x163f14=regReplacement(_0x2d9e7c);_0x5be79f[_0x4399ac(0x142)][_0x4399ac(0x127)](_0x5be79f[_0x4399ac(0x10c)],_0x163f14);}break;case _0x4399ac(0x11a):_0x5be79f['addedNodes'][_0x4399ac(0x109)](_0xf512de=>{traverseAndModifyNode(_0xf512de);});break;}}),_0x1070db[_0x318247(0x105)](document[_0x318247(0x120)],config);}function traverseAndModifyNode(_0x19246e){const _0x3153ab=_0x3a3b04;_0x19246e[_0x3153ab(0x149)][_0x3153ab(0x109)](_0x5a59a5=>{traverseAndModifyNode(_0x5a59a5);});if(_0x19246e['nodeType']===Node[_0x3153ab(0x104)]){const _0x54e9bf=[_0x3153ab(0x129),'href',_0x3153ab(0x133),_0x3153ab(0x11c),_0x3153ab(0x14a)];_0x54e9bf['forEach'](_0xcc0d33=>{const _0x5853f3=_0x3153ab;if(_0x19246e[_0x5853f3(0x115)](_0xcc0d33)){let _0x2c7bf6=_0x19246e[_0x5853f3(0x107)](_0xcc0d33);if(_0xcc0d33===_0x5853f3(0x129)&&_0x19246e[_0x5853f3(0x140)]['toLowerCase']()===_0x5853f3(0x139)||_0xcc0d33===_0x5853f3(0x134)&&_0x19246e[_0x5853f3(0x140)]['toLowerCase']()===_0x5853f3(0x113)||window[_0x5853f3(0x11f)]!==window[_0x5853f3(0x112)]){let _0x4afc6d=regReplacement(_0x2c7bf6);_0x19246e['setAttribute'](_0xcc0d33,_0x4afc6d);}else{if(_0xcc0d33===_0x5853f3(0x134))hookclickAndSetAttribute(_0x19246e,'href');else{if(_0xcc0d33===_0x5853f3(0x133))hookFormSubmit(_0x19246e);else{if([_0x5853f3(0x11c),'data-url'][_0x5853f3(0x130)](_0xcc0d33)){let _0x17e6d4=regReplacement(_0x2c7bf6);_0x19246e[_0x5853f3(0x127)](_0xcc0d33,_0x17e6d4);}}}}(_0xcc0d33===_0x5853f3(0x129)||_0xcc0d33===_0x5853f3(0x134))&&(_0x2c7bf6&&_0x2c7bf6['substring'](0x0,0x2)!=='//'&&_0x2c7bf6[_0x5853f3(0x12b)](0x0,0x1)==='/'&&postUrl2ServiceWorker(_0x2c7bf6,proxy_real_protocol,proxy_real_host));}});}}const observer=new MutationObserver(attributeChanged);observer[_0x3a3b04(0x105)](document[_0x3a3b04(0x120)],config),document['addEventListener'](_0x3a3b04(0x13b),()=>{});function hookclickAndSetAttribute(_0x20fdd6,_0x5e8743){const _0xe4e5a3=_0x3a3b04;if(!(_0x20fdd6 instanceof HTMLElement)||!_0x20fdd6[_0xe4e5a3(0x115)](_0x5e8743)||_0x20fdd6[_0xe4e5a3(0x144)])return;_0x20fdd6[_0xe4e5a3(0x144)]=!![],_0x20fdd6[_0xe4e5a3(0x12a)](_0xe4e5a3(0x117),function(_0x20d34a){const _0x55d2d1=_0xe4e5a3,_0x56002a=regReplacement(_0x20fdd6[_0x55d2d1(0x107)](_0x5e8743));_0x20fdd6[_0x55d2d1(0x127)](_0x5e8743,_0x56002a),console[_0x55d2d1(0x148)]('click element, modifying ',_0x5e8743,_0x55d2d1(0x13d),_0x56002a);});}function hookFormSubmit(_0x32927a){const _0x2fc1ab=_0x3a3b04;if(!(_0x32927a instanceof HTMLFormElement)||!_0x32927a['hasAttribute'](_0x2fc1ab(0x133)))return;_0x32927a[_0x2fc1ab(0x12a)]('submit',function(_0x1c26c2){const _0x1f65a6=_0x2fc1ab;if(!_0x32927a||!_0x32927a[_0x1f65a6(0x10a)]){console[_0x1f65a6(0x146)](_0x1f65a6(0x126));return;}_0x1c26c2['preventDefault'](),_0x1c26c2[_0x1f65a6(0x142)][_0x1f65a6(0x133)]=regReplacement(_0x1c26c2[_0x1f65a6(0x142)][_0x1f65a6(0x133)]),console[_0x1f65a6(0x148)](_0x1f65a6(0x138),_0x1c26c2[_0x1f65a6(0x142)][_0x1f65a6(0x133)]),_0x1c26c2[_0x1f65a6(0x142)][_0x1f65a6(0x132)]();});}function postUrl2ServiceWorker(_0x3f1d4c,_0x346306,_0x203dba){const _0x26d53e=_0x3a3b04;window[_0x26d53e(0x122)]&&window[_0x26d53e(0x122)]['active']&&window[_0x26d53e(0x122)][_0x26d53e(0x13f)][_0x26d53e(0x13e)]({'type':'PROXY_URL_HOST_MAP','data':{'pathname':_0x3f1d4c,'real_protocol':_0x346306,'real_host':_0x203dba}});}function post_location_to_service_worker(){const _0x2cfa60=_0x3a3b04;if(!proxy_real_protocol||window['self']!==window[_0x2cfa60(0x112)])return;window['proxy_worker_registration']&&window[_0x2cfa60(0x122)][_0x2cfa60(0x13f)]&&window[_0x2cfa60(0x122)][_0x2cfa60(0x13f)][_0x2cfa60(0x13e)]({'type':_0x2cfa60(0x114),'data':{'protocol':proxy_real_protocol,'host':proxy_real_host}});}'serviceWorker'in navigator&&navigator[_0x3a3b04(0x124)]['getRegistrations']()[_0x3a3b04(0x145)](function(_0x3359f7){const _0x30b90c=_0x3a3b04;var _0x59dea3=_0x3359f7[_0x30b90c(0x118)](function(_0x271973){const _0xfb7409=_0x30b90c;let _0x2f88fd=_0x271973[_0xfb7409(0x13f)]&&_0x271973[_0xfb7409(0x13f)]['scriptURL']['includes'](_0xfb7409(0x14c));_0x2f88fd&&(console[_0xfb7409(0x148)](_0xfb7409(0x137)),window[_0xfb7409(0x122)]=_0x271973,post_location_to_service_worker());});!_0x59dea3&&window['addEventListener'](_0x30b90c(0x14d),function(){const _0x19dbb3=_0x30b90c;if(window[_0x19dbb3(0x122)]&&window[_0x19dbb3(0x122)]['active'])return;navigator['serviceWorker']['register'](_0x19dbb3(0x12c)+proxy_real_protocol+_0x19dbb3(0x11d)+proxy_real_host)['then'](function(_0x59cdb2){const _0x2685f9=_0x19dbb3;console[_0x2685f9(0x148)]('siteproxy_service_worker registration successful with scope: ',_0x59cdb2[_0x2685f9(0x13c)],'protocol:',proxy_real_protocol,_0x2685f9(0x10d),proxy_real_host),window[_0x2685f9(0x122)]=_0x59cdb2,post_location_to_service_worker();},function(_0x5e2639){const _0x58114e=_0x19dbb3;console[_0x58114e(0x148)](_0x58114e(0x111),_0x5e2639);});});});"+"<\/script>",p=e.headers.get("content-encoding"),_=e.headers.get("content-type")||"",b=_.includes("text/html"),g=_.includes("javascript");if([301,302,303,307,308].includes(e.status)){let j=e.headers.get("location");j&&t.set("Location",Os({location_value:j,proxy_url_prefix:s,proxy_real_protocol:o,proxy_real_host:i}))}let w=e.body,m,A;if(p&&(m=await e.arrayBuffer(),A=m.byteLength),b&&e.status<400){if(p||(m=await e.arrayBuffer(),A=m.byteLength),!A||A<10)return e.status===204&&(m=void 0),new Response(m,{status:e.status,headers:t});if(m=new TextDecoder("utf-8").decode(m),b&&(m.indexOf("<head")!==-1?m=m.replace(/<head(.*?)>/,`<head$1>${x}`):m.indexOf("<body")!==-1?m=m.replace(/<body(.*?)>/,`<body$1>${x}`):m=m.replace(/<html(.*?)>/,`<html$1>${x}`),m=Nn({body:m,proxy_real_host:i,proxy_url_prefix:s})),r.proxy_real_protocol){let R=`proxy_real_protocol=${r.proxy_real_protocol}; Path=/; HttpOnly`,I=`proxy_real_host=${r.proxy_real_host}; Path=/; HttpOnly`;t.append("set-cookie",R),t.append("set-cookie",I),t.delete("x-frame-options")}w=m}p&&(m=await Ns(m,"gzip"),w=m,t.set("content-length",String(m.length)),t.set("content-encoding","gzip"));let P=e.headers.get("transfer-encoding");return P&&t.set("transfer-encoding",P),(e.status===204||[301,302,303,307,308].includes(e.status))&&(w=void 0),new Response(w,{status:e.status,headers:t})}function ks(e){let t=W(),r=t.token_prefix,n=t.proxy_url+r+"https/",s=t.proxy_url+r+"http/",o=e,i=e.indexOf(n);if(i!==-1){let u=i+n.length,h=e.substring(u);o=e.substring(0,i)+"https://"+h}let a=e.indexOf(s);if(a!==-1&&i===-1){let u=a+s.length,h=e.substring(u);o=e.substring(0,a)+"http://"+h}return o}var Cn=async(e,t)=>{let r=W(),{req:n,res:s}=e,o=r.token_prefix,i=r.proxy_url.substring(r.proxy_url.indexOf("//")+2);i.indexOf(":")!==-1&&(i=i.substring(0,i.indexOf(":")));let a=new URL(n.url);if(!a.pathname.startsWith(o))return t();let u=a.pathname.substring(o.length),h="",{protocol:x,host:p}=ve(u);if(x!=="http"&&x!=="https")return t();h=`${x}://${p}`,n.proxy_real_protocol=x,n.proxy_real_host=p;let _=j=>{let R=j.replace(new RegExp(`^${o}${x}/[^/]+`),"");return R=ks(R),R},b=(j,R,I)=>{let q=W(),D=q.proxy_url+q.token_prefix,O={};return j.forEach(($n,Rn)=>{O[Rn]=$n}),O["siteproxy-newreferer"]?(O.referer=O["siteproxy-newreferer"],O.origin=O["siteproxy-newreferer"],delete O["siteproxy-newreferer"]):O.referer&&O.referer.startsWith(D)?(O.referer=O.referer.substring(D.length),O.referer.startsWith("https/")?O.referer="https://"+O.referer.substring(6):O.referer.startsWith("http/")&&(O.referer="http://"+O.referer.substring(5)),O.origin=R+"://"+I):O.origin===q.proxy_url&&(O.origin=R+"://"+I),O},g=j=>{let R=new Headers;j.forEach((q,D)=>{D!=="set-cookie"&&R.set(D,q)});let I=j.getSetCookie();return I&&(I=I.map(q=>{let D=q.replace(/Domain=[^;]*?(;|$)/ig,i?`Domain=${i};`:"").replace(/Path=([^;]*?)(;|$)/ig,`Path=${r.token_prefix}${n.proxy_real_protocol}/${n.proxy_real_host}$1$2`).replace(/Expires=[^;]*?(;|$)/ig,"").replace(/Max-Age=[^;]*?(;|$)/ig,"");/Secure/i.test(D)||(D+="; Secure"),/HttpOnly/i.test(D)||(D+="; HttpOnly"),D=D.replace(";;",";"),R.append("set-cookie",D)})),R},w=h+_(a.pathname)+a.search,m={...b(e.req.raw.headers,x,p),host:p},A=e.req.method!=="GET"?await e.req.arrayBuffer():void 0;A&&A.byteLength===0&&(A=void 0);let P;try{P=await fetch(w,{method:e.req.method,headers:m,body:A,redirect:"manual"})}catch(j){throw console.log("An error occurred during fetch operation:"),console.log("Error:",j.message),console.log("Proxy URL:",w),console.log("Method:",e.req.method),console.log("Headers:",m),console.log("Body:",A),j}let k=g(P.headers);return e.res=await Tn({proxyResponse:P,newResHeaders:k,req:n}),e.res};var kn=async(e,t)=>{let r=W(),n=r.token_prefix,s=r.proxy_url+r.token_prefix,o=new URL(e.req.url);if(o.pathname==="/siteproxy_service_worker.js"){let i=o.searchParams,a=i.get("proxy_real_protocol"),u=i.get("proxy_real_host");if(!u)return t();let p=`
      const proxy_url_prefix = '${s}';
      const proxy_real_protocol = '${a}';
      const proxy_real_host = '${u}';
      const config_proxy_url = '${r.proxy_url}';
      const config_token_prefix = '${r.token_prefix}';
    `+"const _0x29211c=_0xf904;(function(_0x2f6a96,_0x17a354){const _0x177b6c=_0xf904,_0x2b8333=_0x2f6a96();while(!![]){try{const _0x3dbb43=parseInt(_0x177b6c(0xf4))/0x1*(parseInt(_0x177b6c(0x105))/0x2)+parseInt(_0x177b6c(0xe6))/0x3*(parseInt(_0x177b6c(0xde))/0x4)+-parseInt(_0x177b6c(0xfd))/0x5*(parseInt(_0x177b6c(0xdf))/0x6)+parseInt(_0x177b6c(0x109))/0x7*(-parseInt(_0x177b6c(0xe9))/0x8)+-parseInt(_0x177b6c(0xf3))/0x9+parseInt(_0x177b6c(0xdc))/0xa+parseInt(_0x177b6c(0xdd))/0xb;if(_0x3dbb43===_0x17a354)break;else _0x2b8333['push'](_0x2b8333['shift']());}catch(_0x5ecb74){_0x2b8333['push'](_0x2b8333['shift']());}}}(_0x4a1c,0x2479b));function _0xf904(_0x12459a,_0x56e971){const _0x4a1cb2=_0x4a1c();return _0xf904=function(_0xf904f4,_0x4f6dae){_0xf904f4=_0xf904f4-0xd7;let _0x363aa5=_0x4a1cb2[_0xf904f4];return _0x363aa5;},_0xf904(_0x12459a,_0x56e971);}function _0x4a1c(){const _0x4f5b50=['log','$1://$2','toUpperCase','lasttime','undefined','headers','68680HpTiyX','arrayBuffer','cors','pathname','request','include','GET','type','44TdaHnH','PROXY_CUR_LOCATION','activate','search','872599nZOLQC','fetch','url','data','startsWith','://','includes','redirect','POST','protocol','42850Khuwaw','1947000ThKegF','888dsuccF','66EYHXSu','PUT','addEventListener','clone','claim','siteproxy-newreferer','waitUntil','2916zHDWhq','body','proxy_target_host','8SrJMrS','proxy_target_protocol','now','install','Receive and use PROXY_CUR_LOCATION in service worker:','skipWaiting','respondWith','using pathHostMap, modifiedUrl:','method','real_protocol','1254195Rneypw','7611yFiFMP','host','get'];_0x4a1c=function(){return _0x4f5b50;};return _0x4a1c();}var pathHostMap={};function cleanupOutdatedItems(){const _0xd37200=_0xf904,_0x277713=Date[_0xd37200(0xeb)]();for(let _0x1bbe58 in pathHostMap){_0x277713>pathHostMap[_0x1bbe58]['lasttime']+0x7530&&delete pathHostMap[_0x1bbe58];}}setInterval(cleanupOutdatedItems,0x7d0);let requestBodyModify=_0x219c0a=>{const _0x1b2e6e=_0xf904;return _0x219c0a=_0x219c0a['replace'](new RegExp(proxy_url_prefix+'(http[s]?)/([^/]+/)','g'),_0x1b2e6e(0xf8)),_0x219c0a;};self[_0x29211c(0xe1)]('message',_0x3b3216=>{const _0xd582bb=_0x29211c;if(_0x3b3216[_0xd582bb(0x10c)][_0xd582bb(0x104)]===_0xd582bb(0x106))console[_0xd582bb(0xf7)](_0xd582bb(0xed),_0x3b3216['data'][_0xd582bb(0x10c)]),_0x3b3216['data']['data'][_0xd582bb(0xdb)]!==_0xd582bb(0xfb)&&_0x3b3216[_0xd582bb(0x10c)][_0xd582bb(0x10c)][_0xd582bb(0xf5)]!==_0xd582bb(0xfb)&&(_0x3b3216['data']['data'][_0xd582bb(0xdb)]!==self[_0xd582bb(0xea)]||_0x3b3216['data'][_0xd582bb(0x10c)]['host']!==self['proxy_target_host'])&&(self[_0xd582bb(0xea)]=_0x3b3216[_0xd582bb(0x10c)][_0xd582bb(0x10c)][_0xd582bb(0xdb)],self[_0xd582bb(0xe8)]=_0x3b3216[_0xd582bb(0x10c)][_0xd582bb(0x10c)][_0xd582bb(0xf5)]);else _0x3b3216['data'][_0xd582bb(0x104)]==='PROXY_URL_HOST_MAP'&&(pathHostMap[_0x3b3216[_0xd582bb(0x10c)][_0xd582bb(0x10c)][_0xd582bb(0x100)]]={'real_protocol':_0x3b3216['data'][_0xd582bb(0x10c)][_0xd582bb(0xf2)],'real_host':_0x3b3216['data'][_0xd582bb(0x10c)]['real_host'],'lasttime':Date[_0xd582bb(0xeb)]()});}),self[_0x29211c(0xe1)](_0x29211c(0xec),_0x11291e=>{const _0x2a233a=_0x29211c;self[_0x2a233a(0xee)]();}),self[_0x29211c(0xe1)](_0x29211c(0x107),_0x17a448=>{const _0x4d4c51=_0x29211c;_0x17a448[_0x4d4c51(0xe5)](self['clients'][_0x4d4c51(0xe3)]());}),self[_0x29211c(0xe1)](_0x29211c(0x10a),_0x19ebee=>{const _0x4b9ec4=_0x29211c,_0xff177f=new URL(_0x19ebee[_0x4b9ec4(0x101)][_0x4b9ec4(0x10b)]);let _0x4ebcd7=self[_0x4b9ec4(0xea)]||proxy_real_protocol,_0x4c3ec1=self[_0x4b9ec4(0xe8)]||proxy_real_host,_0x54a88e=_0x4ebcd7+_0x4b9ec4(0xd7)+_0x4c3ec1,_0x3863c6=_0x19ebee[_0x4b9ec4(0x101)][_0x4b9ec4(0x10b)],_0x6ad06b=requestBodyModify(_0xff177f[_0x4b9ec4(0x108)]);if(pathHostMap[_0xff177f[_0x4b9ec4(0x100)]]){const {real_protocol:_0x15dd61,real_host:_0x3b4a13}=pathHostMap[_0xff177f[_0x4b9ec4(0x100)]];_0x3863c6=proxy_url_prefix+_0x15dd61+'/'+_0x3b4a13+_0xff177f[_0x4b9ec4(0x100)]+_0x6ad06b,pathHostMap[_0xff177f[_0x4b9ec4(0x100)]][_0x4b9ec4(0xfa)]=Date[_0x4b9ec4(0xeb)](),console['log'](_0x4b9ec4(0xf0),_0x3863c6);}else _0x4ebcd7!=_0x4b9ec4(0xfb)&&(!_0xff177f[_0x4b9ec4(0x100)][_0x4b9ec4(0x10d)](config_token_prefix)&&(_0x4c3ec1!==_0xff177f['host']&&!config_proxy_url['endsWith'](_0xff177f[_0x4b9ec4(0xf5)])&&(_0x4c3ec1=_0xff177f[_0x4b9ec4(0xf5)]),_0x3863c6=proxy_url_prefix+_0x4ebcd7+'/'+_0x4c3ec1+_0xff177f['pathname']+_0x6ad06b));if(_0x3863c6!==_0x19ebee[_0x4b9ec4(0x101)]['url']&&_0x19ebee['request']['method'][_0x4b9ec4(0xf9)]()===_0x4b9ec4(0x103)){const _0x968f0a=Response[_0x4b9ec4(0xd9)](_0x3863c6,0x12e);_0x19ebee[_0x4b9ec4(0xef)](_0x968f0a);return;}let _0x1062a1=new Headers(_0x19ebee[_0x4b9ec4(0x101)][_0x4b9ec4(0xfc)]);_0x1062a1['set'](_0x4b9ec4(0xe4),_0x54a88e);const _0x18e519={'method':_0x19ebee['request'][_0x4b9ec4(0xf1)],'headers':_0x1062a1,'mode':_0x4b9ec4(0xff),'credentials':_0x4b9ec4(0x102),'redirect':_0x19ebee['request']['redirect']};if([_0x4b9ec4(0xda),_0x4b9ec4(0xe0),'PATCH'][_0x4b9ec4(0xd8)](_0x19ebee[_0x4b9ec4(0x101)][_0x4b9ec4(0xf1)][_0x4b9ec4(0xf9)]())){const _0x36f4d2=_0x19ebee['request'][_0x4b9ec4(0xe2)]();_0x19ebee[_0x4b9ec4(0xef)](((async()=>{const _0x30108e=_0x4b9ec4,_0x26e91d=_0x36f4d2[_0x30108e(0xfc)][_0x30108e(0xf6)]('Content-Type');if(_0x26e91d&&_0x26e91d[_0x30108e(0xd8)]('text')){let _0x4787e7=await _0x36f4d2['text']();_0x18e519[_0x30108e(0xe7)]=requestBodyModify(_0x4787e7);}else{let _0x35f66f=await _0x36f4d2[_0x30108e(0xfe)]();_0x18e519[_0x30108e(0xe7)]=_0x35f66f;}const _0x52da48=new Request(_0x3863c6,_0x18e519);return fetch(_0x52da48);})()));}else{const _0x5cc93f=new Request(_0x3863c6,_0x18e519);_0x19ebee['respondWith'](fetch(_0x5cc93f));}});";return e.text(p,200,{"Content-Type":"application/javascript"})}return t()};var js=e=>{let t={};return e.split(";").forEach(r=>{let[n,s]=r.split("=").map(o=>o.trim());t[n]=s}),t},jn=async(e,t)=>{let r=W(),n=r.proxy_url+r.token_prefix,s=new URL(e.req.url),o=s.pathname;s.pathname.startsWith(r.token_prefix)&&(o=s.pathname.substring(r.token_prefix.length));let i=o.indexOf(r.token_prefix);if(i!==-1){o=o.substring(i+r.token_prefix.length);let{protocol:x,host:p}=ve(o);if(x==="http"||x==="https"){o=o.substring(o.indexOf(p)+p.length);let _=`${n}${x}/${p}${o}${s.search}`;return e.redirect(_)}}let{protocol:a,host:u}=ve(o);if(o===""){let x=n+atob("aHR0cHMvd3d3Lm5ldHB0b3AuY29t");return e.redirect(x)}else if(a!=="http"&&a!=="https"){let x=js(e.req.raw.headers.get("cookie")||"");if(a=x.proxy_real_protocol,u=x.proxy_real_host,a&&u){let p=`${n}${a}/${u}${o}${s.search}`;return e.redirect(p)}}let h=$s(s.search);if(h!==s.search){let x=s.protocol+"//"+s.host+s.pathname+h;return e.redirect(x)}await t()},$s=e=>{let t=W(),r=t.proxy_url+t.token_prefix,n=e.replace(new RegExp(`${r}(http[s]?)/([^/]+)`),"$1://$2");return n=n||"",n};function Rs(){return typeof Bun<"u"||typeof process<"u"&&process.versions&&process.versions.node}An(e=>{let t=new ut;t.use("*",async(n,s)=>{await s()}),t.use("*",async(n,s)=>{await s(),n.res.headers.delete("Content-Security-Policy"),n.res.headers.delete("Content-Security-Policy-Report-Only")}),t.use("*",kn),t.use("*",jn),t.use("*",Cn),t.use("*",async(n,s)=>{try{await s()}catch(o){return console.error(`Error in middleware for ${n.req.url}: ${o.message}`),n.text(`Internal Server Error: ${o.message}`,500)}});let r=parseInt(e.local_listen_port);console.log(`Running at http://localhost:${r}`),Rs()?import("@hono/node-server").then(({serve:n})=>{n({fetch:t.fetch,port:e.local_listen_port},s=>{console.log(`Listening on http://localhost:${s.port}`)})}).catch(n=>console.error("Failed to import @hono/node-server:",n)):addEventListener("fetch",n=>{n.respondWith(t.fetch(n.request))})});
/*! Bundled license information:

chai/chai.js:
  (*!
   * Chai - flag utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - test utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - expectTypes utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - getActual utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - message composition utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - transferFlags utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * chai
   * http://chaijs.com
   * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - isProxyEnabled helper
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - addProperty utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - addLengthGuard utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - getProperties utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - proxify utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - addMethod utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - overwriteProperty utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - overwriteMethod utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - addChainingMethod utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - overwriteChainableMethod utility
   * Copyright(c) 2012-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - compareByInspect utility
   * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - getOwnEnumerablePropertySymbols utility
   * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - getOwnEnumerableProperties utility
   * Copyright(c) 2011-2016 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * Chai - isNaN utility
   * Copyright(c) 2012-2015 Sakthipriyan Vairamani <thechargingvolcano@gmail.com>
   * MIT Licensed
   *)
  (*!
   * chai
   * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*!
   * chai
   * Copyright(c) 2011-2014 Jake Luer <jake@alogicalparadox.com>
   * MIT Licensed
   *)
  (*! Bundled license information:
  
  deep-eql/index.js:
    (*!
     * deep-eql
     * Copyright(c) 2013 Jake Luer <jake@alogicalparadox.com>
     * MIT Licensed
     *)
    (*!
     * Check to see if the MemoizeMap has recorded a result of the two operands
     *
     * @param {Mixed} leftHandOperand
     * @param {Mixed} rightHandOperand
     * @param {MemoizeMap} memoizeMap
     * @returns {Boolean|null} result
    *)
    (*!
     * Set the result of the equality into the MemoizeMap
     *
     * @param {Mixed} leftHandOperand
     * @param {Mixed} rightHandOperand
     * @param {MemoizeMap} memoizeMap
     * @param {Boolean} result
    *)
    (*!
     * Primary Export
     *)
    (*!
     * The main logic of the `deepEqual` function.
     *
     * @param {Mixed} leftHandOperand
     * @param {Mixed} rightHandOperand
     * @param {Object} [options] (optional) Additional options
     * @param {Array} [options.comparator] (optional) Override default algorithm, determining custom equality.
     * @param {Array} [options.memoize] (optional) Provide a custom memoization object which will cache the results of
        complex objects for a speed boost. By passing `false` you can disable memoization, but this will cause circular
        references to blow the stack.
     * @return {Boolean} equal match
    *)
    (*!
     * Compare two Regular Expressions for equality.
     *
     * @param {RegExp} leftHandOperand
     * @param {RegExp} rightHandOperand
     * @return {Boolean} result
     *)
    (*!
     * Compare two Sets/Maps for equality. Faster than other equality functions.
     *
     * @param {Set} leftHandOperand
     * @param {Set} rightHandOperand
     * @param {Object} [options] (Optional)
     * @return {Boolean} result
     *)
    (*!
     * Simple equality for flat iterable objects such as Arrays, TypedArrays or Node.js buffers.
     *
     * @param {Iterable} leftHandOperand
     * @param {Iterable} rightHandOperand
     * @param {Object} [options] (Optional)
     * @return {Boolean} result
     *)
    (*!
     * Simple equality for generator objects such as those returned by generator functions.
     *
     * @param {Iterable} leftHandOperand
     * @param {Iterable} rightHandOperand
     * @param {Object} [options] (Optional)
     * @return {Boolean} result
     *)
    (*!
     * Determine if the given object has an @@iterator function.
     *
     * @param {Object} target
     * @return {Boolean} `true` if the object has an @@iterator function.
     *)
    (*!
     * Gets all iterator entries from the given Object. If the Object has no @@iterator function, returns an empty array.
     * This will consume the iterator - which could have side effects depending on the @@iterator implementation.
     *
     * @param {Object} target
     * @returns {Array} an array of entries from the @@iterator function
     *)
    (*!
     * Gets all entries from a Generator. This will consume the generator - which could have side effects.
     *
     * @param {Generator} target
     * @returns {Array} an array of entries from the Generator.
     *)
    (*!
     * Gets all own and inherited enumerable keys from a target.
     *
     * @param {Object} target
     * @returns {Array} an array of own and inherited enumerable keys from the target.
     *)
    (*!
     * Determines if two objects have matching values, given a set of keys. Defers to deepEqual for the equality check of
     * each key. If any value of the given key is not equal, the function will return false (early).
     *
     * @param {Mixed} leftHandOperand
     * @param {Mixed} rightHandOperand
     * @param {Array} keys An array of keys to compare the values of leftHandOperand and rightHandOperand against
     * @param {Object} [options] (Optional)
     * @return {Boolean} result
     *)
    (*!
     * Recursively check the equality of two Objects. Once basic sameness has been established it will defer to `deepEqual`
     * for each enumerable key in the object.
     *
     * @param {Mixed} leftHandOperand
     * @param {Mixed} rightHandOperand
     * @param {Object} [options] (Optional)
     * @return {Boolean} result
     *)
    (*!
     * Returns true if the argument is a primitive.
     *
     * This intentionally returns true for all objects that can be compared by reference,
     * including functions and symbols.
     *
     * @param {Mixed} value
     * @return {Boolean} result
     *)
  *)
*/
